"use strict";
var chokidar = require('chokidar');
var Observable = require('rxjs').Observable;
function watchFiles(patternOrArray, options) {
    return Observable.create(function (observer) {
        var watcher = chokidar.watch(patternOrArray, options);
        watcher.on('all', function (event, file) { return observer.next({ type: event, file: file }); });
        watcher.on('error', function (error) { return observer.error(error); });
        return function () {
            watcher.close();
            watcher = null;
        };
    });
}
module.exports = { watchFiles: watchFiles };
