"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t=require("react"),r=e(t),a=e(require("prop-types")),n=require("@commercelayer/js-sdk"),i=e(n),s=e(require("lodash")),l=e(require("axios")),o=e(require("rapid-form"));function u(e,t,r,a,n,i,s){try{var l=e[i](s),o=l.value}catch(e){return void r(e)}l.done?t(o):Promise.resolve(o).then(a,n)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(a,n){var i=e.apply(t,r);function s(e){u(i,a,n,s,l,"next",e)}function l(e){u(i,a,n,s,l,"throw",e)}s(void 0)}))}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)t.indexOf(r=i[a])>=0||(n[r]=e[r]);return n}var m=function(e){var t=e.children;return t?r.createElement(t,e):null};m.propTypes={children:a.func};var v,f=(function(e){var t=function(e){var t=Object.prototype,r=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},n=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,t,r,a){var n=Object.create((t&&t.prototype instanceof d?t:d).prototype),i=new I(a||[]);return n._invoke=function(e,t,r){var a="suspendedStart";return function(n,i){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw i;return{value:void 0,done:!0}}for(r.method=n,r.arg=i;;){var s=r.delegate;if(s){var l=C(s,r);if(l){if(l===u)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var d=o(e,t,r);if("normal"===d.type){if(a=r.done?"completed":"suspendedYield",d.arg===u)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(a="completed",r.method="throw",r.arg=d.arg)}}}(e,r,i),n}function o(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function d(){}function p(){}function c(){}var m={};m[n]=function(){return this};var v=Object.getPrototypeOf,f=v&&v(v(T([])));f&&f!==t&&r.call(f,n)&&(m=f);var y=c.prototype=d.prototype=Object.create(m);function h(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function b(e,t){var a;this._invoke=function(n,i){function s(){return new t((function(a,s){!function a(n,i,s,l){var u=o(e[n],e,i);if("throw"!==u.type){var d=u.arg,p=d.value;return p&&"object"==typeof p&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){a("next",e,s,l)}),(function(e){a("throw",e,s,l)})):t.resolve(p).then((function(e){d.value=e,s(d)}),(function(e){return a("throw",e,s,l)}))}l(u.arg)}(n,i,a,s)}))}return a=a?a.then(s,s):s()}}function C(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=o(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,u;var n=a.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function g(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(g,this),this.reset(!0)}function T(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return p.prototype=y.constructor=c,c.constructor=p,c[s]=p.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},h(b.prototype),b.prototype[i]=function(){return this},e.AsyncIterator=b,e.async=function(t,r,a,n,i){void 0===i&&(i=Promise);var s=new b(l(t,r,a,n),i);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},h(y),y[s]="Generator",y[n]=function(){return this},y.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var a=t.pop();if(a in e)return r.value=a,r.done=!1,r}return r.done=!0,r}},e.values=T,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return s.type="throw",s.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),o=r.call(i,"finallyLoc");if(l&&o){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!o)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;A(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}(v={exports:{}}),v.exports),y=function(e,t,r){return-1!==r.indexOf(t.type)&&(e=p({},e,t.payload)),e},h=["RECORD_NOT_FOUND","UNAUTHORIZED","INVALID_TOKEN","VALIDATION_ERROR","INVALID_RESOURCE","FILTER_NOT_ALLOWED","INVALID_FIELD_VALUE","INVALID_FIELD","PARAM_NOT_ALLOWED","PARAM_MISSING","INVALID_FILTER_VALUE","KEY_ORDER_MISMATCH","KEY_NOT_INCLUDED_IN_URL","INVALID_INCLUDE","RELATION_EXISTS","INVALID_SORT_CRITERIA","INVALID_LINKS_OBJECT","TYPE_MISMATCH","INVALID_PAGE_OBJECT","INVALID_PAGE_VALUE","INVALID_FIELD_FORMAT","INVALID_FILTERS_SYNTAX","SAVE_FAILED","INVALID_DATA_FORMAT","FORBIDDEN","RECORD_NOT_FOUND","NOT_ACCEPTABLE","UNSUPPORTED_MEDIA_TYPE","LOCKED","INTERNAL_SERVER_ERROR"],b=function(e){var t="";return h.map((function(r){var a=[],n=r.split("_");n.map((function(t){var r=new RegExp("(?:s|"+t+")","g"),n=e.match(r);n&&(null==n?void 0:n.length)>0&&a.push(n[0])})),a.length===n.length&&(t=r)})),t},C=function(e,t){var r=[];return s.has(e,"errors")&&!e.errors().empty()?e.errors().toArray().map((function(a){"recipientEmail"===a.field&&(a.field="email"),r.push({id:e.id,code:b(a.code),field:"recipientEmail"===a.field?"email":a.field,resource:t,message:a.message})})):s.isArray(e)&&e.map((function(e){r.push({code:b(e.code),field:"recipientEmail"===e.field?"email":e.field,resource:t,message:e.message})})),r},g=["setLoading","setOrderId","setOrder","setSingleQuantity","setCurrentSkuCodes","setCurrentSkuPrices","setErrors","setCurrentItem","setSaveAddressToCustomerBook"],A=function(){var e=d(f.mark((function e(t){var r,a,n,s,l,o,u,d,c;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.persistKey,n=t.dispatch,s=t.config,l=t.orderMetadata,u=void 0===(o=t.orderAttributes)?{}:o,d=t.setLocalOrder,!(a=t.state).orderId){e.next=3;break}return e.abrupt("return",a.orderId);case 3:return e.next=5,i.Order.withCredentials(s).create(p({metadata:l},u));case 5:if((c=e.sent).id){e.next=8;break}return e.abrupt("return","");case 8:return n({type:"setOrderId",payload:{orderId:c.id}}),n({type:"setOrder",payload:{order:c}}),r&&d&&d(r,c.id),e.abrupt("return",c.id);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=d(f.mark((function e(t){var r,a,i,s,l,o,u;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,a=t.dispatch,i=t.config,s=t.clearWhenPlaced,l=t.persistKey,o=t.deleteLocalOrder,e.prev=1,e.next=4,n.Order.withCredentials(i).includes("billingAddress","shippingAddress").find(r);case 4:(u=e.sent)&&(s&&"placed"===u.status||"approved"===u.status||"cancelled"===u.status?(l&&o&&o(l),a({type:"setOrder",payload:{order:void 0,orderId:""}})):a({type:"setOrder",payload:{order:u}})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),l&&o&&o(l),a({type:"setOrder",payload:{order:void 0,orderId:""}});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=d(f.mark((function e(t){var r,a,n,l,o,u,c,m,v,y,h,b,g,T;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.skuCode,a=t.skuId,n=t.quantity,l=t.option,o=t.config,u=t.dispatch,c=t.lineItem,m=t.errors,e.prev=1,e.next=4,A(t);case 4:return y=i.Order.build({id:v=e.sent}),h={order:y,skuCode:r,name:null==c?void 0:c.name,imageUrl:null==c?void 0:c.imageUrl,quantity:n||1,_updateQuantity:1},a&&(h.item=i.Sku.build({id:a})),e.next=12,i.LineItem.withCredentials(o).create(h);case 12:if(b=e.sent,s.isEmpty(l)){e.next=18;break}g=0,s.map(l,function(){var e=d(f.mark((function e(r){var a,n;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.options,n=i.SkuOption.build({id:r.skuOptionId}),e.next=4,i.LineItemOption.withCredentials(o).create({quantity:1,options:a,lineItem:b,skuOption:n});case 4:if((g+=1)!==s.size(l)){e.next=8;break}return e.next=8,I(p({id:v},t));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=20;break;case 18:return e.next=20,I(p({id:v},t));case 20:return s.isEmpty(m)||u({type:"setErrors",payload:{errors:[]}}),e.abrupt("return",{success:!0});case 24:return e.prev=24,e.t0=e.catch(1),T=C(e.t0,"order"),u({type:"setErrors",payload:{errors:T}}),e.abrupt("return",{success:!1});case 29:case"end":return e.stop()}}),e,null,[[1,24]])})));return function(t){return e.apply(this,arguments)}}(),E={loading:!1,orderId:"",order:void 0,errors:[]},k=function(e,t){return y(e,t,g)},N=t.createContext(E),S={item:{},items:{},quantity:{},option:{},prices:{},lineItems:{}},x=t.createContext(S),L=function(e){return s.first(s.keys(e))||""},P=function(e,r,a){var n=null,i=e[r],l=a.replace("CL","");return s.isEmpty(i)&&e.isRequired&&(n=new Error("The prop '"+r+"' is marked as required in '"+l+"', but its value is '"+i+"'.")),t.Children.map(i,(function(e){if(n)return n;var a=e.type,i=F[l].permittedChildren,o="Invalid prop '"+r+"' supplied to "+l+". Only components "+i.join(", ")+" are allowed.";if(s.isFunction(a)&&s.has(a,"displayName")){var u=a.displayName,d=a.name;u&&u===""+d&&(i.includes(d)||(n=new Error(o)))}t.isValidElement(e)||(n=new Error(o))})),n},R=P;R.isRequired=function(e,t,r,a,n){return P(p({},e,{isRequired:!0}),t,r)};var O={id:a.string,className:a.string,style:a.object,name:a.string},M=a.oneOfType([a.element,a.string]),w={children:a.func,name:a.string.isRequired,type:a.oneOf(["text","email","number","date","checkbox","textarea"]).isRequired,onChange:a.func,placeholder:a.string},D=a.objectOf(a.string),B=p({base:a.string.isRequired,type:a.string.isRequired,children:a.func,format:a.oneOf(["formatted","cents","float"])},O),_=p({children:B.children,format:B.format},O),G={resource:a.oneOf(["order","giftCard","lineItem","variant","price","skuOption","billingAddress","shippingAddress"]).isRequired,children:a.func,field:a.string},F={Address:{permittedChildren:["AddressField","ReactNode"],displayName:"Address",propTypes:{children:R.isRequired}},AddressCountrySelector:{displayName:"AddressCountrySelector",propTypes:{children:a.func,placeholder:a.shape({label:a.string.isRequired,value:a.oneOfType([a.string,a.number]).isRequired}),value:a.string,name:a.oneOf(["billing_address_country_code","shipping_address_country_code"]).isRequired,required:a.bool},defaultProps:{required:!0}},AddressField:{displayName:"AddressField",propTypes:{children:a.func}},AddressInput:{displayName:"AddressInput",propTypes:{children:a.func,name:a.oneOf(["billing_address_city","billing_address_company","billing_address_email","billing_address_first_name","billing_address_last_name","billing_address_line_1","billing_address_line_2","billing_address_phone","billing_address_state_code","billing_address_zip_code","billing_address_save_to_customer_book","shipping_address_city","shipping_address_company","shipping_address_email","shipping_address_first_name","shipping_address_last_name","shipping_address_line_1","shipping_address_line_2","shipping_address_phone","shipping_address_state_code","shipping_address_zip_code","shipping_address_save_to_customer_book"]).isRequired,type:a.oneOf(["checkbox","date","email","number","tel","text","textarea"]).isRequired,placeholder:a.string,disabled:a.bool,required:a.bool},defaultProps:{required:!0}},AddToCartButton:{displayName:"AddToCartButton",propTypes:{children:a.func,label:a.string,skuCode:a.string,disabled:a.bool,lineItem:a.shape({name:a.string.isRequired,imageUrl:a.string})},defaultProps:{label:"Add to cart"}},AddressesContainer:{displayName:"AddressesContainer",permittedChildren:["BillingAddressForm","BillingAddressContainer","ShippingAddressForm","ShippingAddressContainer","SaveAddressesButton","ReactNode"],propTypes:{children:R.isRequired,shipToDifferentAddress:a.bool}},AvailabilityContainer:{displayName:"AvailabilityContainer",permittedChildren:["AvailabilityTemplate","ReactNode"],propTypes:{children:R.isRequired,skuCode:a.string}},AvailabilityTemplate:{displayName:"AvailabilityTemplate",propTypes:{timeFormat:a.oneOf(["days","hours"]),showShippingMethodName:a.bool,children:a.func},defaultProps:{timeFormat:"days",showShippingMethodName:!1}},BillingAddressContainer:{permittedChildren:["Address","ReactNode"],propTypes:{children:R.isRequired}},BillingAddressForm:{permittedChildren:["AddressInput","ReactNode"],propTypes:{children:R.isRequired}},CheckoutLink:{displayName:"CheckoutLink",propTypes:{children:a.func,label:a.string},defaultProps:{label:"Checkout"}},CommerceLayer:{permittedChildren:["OrderContainer","PricesContainer","GiftCardContainer","ReactNode"],propTypes:{children:R.isRequired,accessToken:a.string.isRequired,endpoint:a.string.isRequired}},CustomerContainer:{displayName:"CustomerContainer",permittedChildren:["CustomerInput","SaveCustomerButton","AddressesContainer","ReactNode"],propTypes:{children:R.isRequired,isGuest:a.bool}},CustomerInput:{displayName:"CustomerInput",propTypes:{children:a.func,name:a.oneOf(["customerEmail"]),type:a.oneOf(["email"]),placeholder:a.string,disabled:a.bool,required:a.bool,saveOnBlur:a.bool},defaultProps:{required:!0}},DeliveryLeadTime:{displayName:"DeliveryLeadTime",propTypes:{type:a.oneOf(["maxDays","maxHours","minDays","minHours"]).isRequired,children:a.func}},DiscountAmount:{displayName:"DiscountAmount",propTypes:_,defaultProps:{format:"formatted"}},Errors:{displayName:"Errors",propTypes:G,defaultProps:{messages:[],field:"base"}},ExternalFunction:{displayName:"ExternalFunction",permittedChildren:["AddToCartButton","ReactNode"],propTypes:{children:R.isRequired,url:a.string.isRequired}},GiftCard:{permittedChildren:["GiftCardCurrencySelector","GiftCardInput","Errors","MetadataInput","SubmitButton","ReactNode"],displayName:"GiftCard",propTypes:{children:R.isRequired,onSubmit:a.func},defaultProps:{onSubmit:void 0}},GiftCardAmount:{displayName:"GiftCardAmount",propTypes:_},GiftCardContainer:{permittedChildren:["GiftCard","Errors","ReactNode"],displayName:"GiftCardContainer",propTypes:{children:R.isRequired}},GiftCardCurrencySelector:{displayName:"GiftCardCurrencySelector",propTypes:{children:a.func,placeholder:a.shape({value:a.oneOfType([a.string,a.number]).isRequired,label:a.string.isRequired}),value:a.string,required:a.bool},defaultProps:{required:!0}},GiftCardInput:{displayName:"GiftCardInput",propTypes:{type:a.oneOf(["text","email","number","date","checkbox"]).isRequired,name:a.oneOf(["balanceCents","balanceMaxCents","singleUse","rechargeable","imageUrl","expiresAt","referenceOrigin","email","firstName","lastName","reference"]).isRequired,children:a.func,placeholder:a.string}},ItemContainer:{permittedChildren:["PricesContainer","VariantsContainer","SkuOptionContainer","QuantitySelector","AddToCartButton","AvailabilityContainer","SkuListsContainer","ReactNode"],displayName:"ItemContainer",propTypes:{children:R.isRequired,skuCode:a.string,lineItem:a.shape({name:a.string.isRequired,imageUrl:a.string})}},LineItem:{permittedChildren:["LineItemImage","LineItemName","LineItemOptions","LineItemQuantity","LineItemAmount","LineItemRemoveLink","StockTransfer","Errors","ReactNode"],displayName:"LineItem",propTypes:{children:R.isRequired,type:a.oneOf(["skus","gift_cards","shipments","paymentMethods","promotions"])},defaultProps:{type:"skus"}},LineItemAmount:{displayName:"LineItemAmount",propTypes:p({},_,{type:a.oneOf(["total","unit","option"])}),defaultProps:{format:"formatted",type:"total"}},LineItemImage:{displayName:"LineItemImage",propTypes:{width:a.number,children:a.func}},LineItemName:{displayName:"LineItemName",propTypes:{children:a.func}},LineItemOption:{displayName:"LineItemOption",propTypes:{name:a.string.isRequired,children:a.func,valueClassName:a.string,keyClassName:a.string,keyId:a.string,keyStyle:a.object}},LineItemOptions:{permittedChildren:["LineItemOption","ReactNode"],displayName:"LineItemOptions",propTypes:{children:R.isRequired,title:a.string,showName:a.bool,skuOptionId:a.string.isRequired},defaultProps:{showName:!0}},LineItemQuantity:{displayName:"LineItemQuantity",propTypes:{children:a.func,max:a.number,disabled:a.bool,readonly:a.bool},defaultProps:{max:50}},LineItemRemoveLink:{displayName:"LineItemRemoveLink",propTypes:{children:a.func,label:a.string},defaultProps:{label:"Remove"}},LineItemsContainer:{permittedChildren:["LineItemsCount","LineItem","ReactNode"],displayName:"LineItemsContainer",propTypes:{children:R.isRequired,filters:a.object,loader:M},defaultProps:{filters:{},loader:"Loading..."}},LineItemsCount:{displayName:"LineItemsCount",propTypes:{children:a.func,id:a.string,className:a.string,name:a.string,style:a.object}},MetadataInput:{displayName:"MetadataInput",propTypes:w},OrderContainer:{permittedChildren:["AddressesContainer","CustomerContainer","ItemContainer","LineItemsContainer","SubTotalAmount","DiscountAmount","ShippingAmount","TaxesAmount","GiftCardAmount","TotalAmount","CheckoutLink","GiftCardContainer","ShipmentsContainer","ReactNode"],displayName:"OrderContainer",propTypes:{children:R.isRequired,orderId:a.string,metadata:D,attributes:a.object},defaultProps:{metadata:{}}},OrderStorage:{permittedChildren:["OrderContainer","ReactNode"],displayName:"OrderStorage",propTypes:{children:R.isRequired,clearWhenPlaced:a.bool,persistKey:a.string.isRequired}},Price:{displayName:"Price",propTypes:{children:a.func,compareClassName:a.string,skuCode:a.string,showCompare:a.bool},defaultProps:{skuCode:""}},PricesContainer:{permittedChildren:["Price","ReactNode"],displayName:"PricesContainer",propTypes:{children:R.isRequired,skuCode:a.string,loader:M,perPage:a.number,filters:a.object},defaultProps:{perPage:10,filters:{},loader:"Loading...",skuCode:""}},QuantitySelector:{displayName:"QuantitySelector",propTypes:{children:a.func,min:a.number,max:a.number,value:a.string,skuCode:a.string,disabled:a.bool},defaultProps:{min:1}},SaveAddressesButton:{displayName:"SaveAddressesButton",propTypes:{children:a.func,label:a.string,onClick:a.func,disabled:a.bool},defaultProps:{label:"Continue to delivery"}},Shipment:{permittedChildren:["LineItemsContainer","LineItem","ShippingMethod","ReactNode"],displayName:"Shipment",propTypes:{children:R.isRequired}},ShipmentsContainer:{displayName:"ShipmentsContainer",permittedChildren:["Shipment","ReactNode"],propTypes:{children:R.isRequired}},ShippingAddressContainer:{permittedChildren:["Address","ReactNode"],propTypes:{children:R.isRequired}},SaveCustomerButton:{displayName:"SaveCustomerButton",propTypes:{children:a.func,label:a.string,onClick:a.func},defaultProps:{label:"Save"}},ShippingAddressForm:{permittedChildren:["AddressInput","ReactNode"],propTypes:{children:R.isRequired}},ShippingAmount:{displayName:"ShippingAmount",propTypes:_},ShippingMethod:{permittedChildren:["ShippingMethodName","ShippingMethodPrice","ShippingMethodRadioButton","DeliveryLeadTime","ReactNode"],displayName:"ShippingMethod",propTypes:{children:R.isRequired,readonly:a.bool}},ShippingMethodName:{displayName:"ShippingMethodName",propTypes:{children:a.func}},ShippingMethodRadioButton:{displayName:"ShippingMethodRadioButton",propTypes:{children:a.func}},ShippingMethodPrice:{displayName:"ShippingMethodPrice",propTypes:p({},_,{type:a.oneOf(["amount"])}),defaultProps:{format:"formatted",type:"amount"}},SkuList:{permittedChildren:["AddToCartButton","QuantitySelector","ReactNode"],displayName:"SkuList",propTypes:{children:R.isRequired,id:a.string.isRequired}},SkuListsContainer:{permittedChildren:["SkuList","ReactNode"],displayName:"SkuListsContainer",propTypes:{children:R.isRequired}},SkuOption:{permittedChildren:["SkuOptionInput","ReactNode"],displayName:"SkuOption",propTypes:{children:R.isRequired,id:a.string.isRequired}},SkuOptionInput:{displayName:"SkuOptionInput",propTypes:w},SkuOptionsContainer:{permittedChildren:["SkuOption","ReactNode"],displayName:"SkuOptionsContainer",propTypes:{children:R.isRequired,skuCode:a.string}},StockTransfer:{permittedChildren:["StockTransferField","ReactNode"],displayName:"StockTransfer",propTypes:{children:R.isRequired}},StockTransferField:{displayName:"StockTransferField",propTypes:{children:a.func,type:a.oneOf(["quantity","skuCode"]).isRequired}},SubmitButton:{displayName:"SubmitButton",propTypes:{children:a.func,label:a.string},defaultProps:{label:"Submit"}},SubTotalAmount:{displayName:"SubTotalAmount",propTypes:_,defaultProps:{format:"formatted"}},TaxesAmount:{displayName:"TaxesAmount",propTypes:_,defaultProps:{format:"formatted"}},TotalAmount:{displayName:"TotalAmount",propTypes:_,defaultProps:{format:"formatted"}},VariantsContainer:{permittedChildren:["VariantSelector","ReactNode"],displayName:"VariantsContainer",propTypes:{children:R.isRequired,skuCode:a.string,filters:a.object},defaultProps:{skuCode:"",filters:{}}},VariantSelector:{displayName:"VariantSelector",propTypes:{options:a.arrayOf(a.shape({label:a.string.isRequired,code:a.string.isRequired,lineItem:a.shape({name:a.string.isRequired,imageUrl:a.string})}).isRequired).isRequired,name:a.string,children:a.func,type:a.oneOf(["select","radio"]),loader:a.element,placeholder:a.string,skuCode:a.string},defaultProps:{placeholder:"Select a variant",type:"select"}}},q=["getSkuList","setSkuList"],K={listIds:[],skuLists:{}},V=function(){var e=d(f.mark((function e(t){var r,a,i,s;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.listIds,a=t.config,i=t.dispatch,s={},e.prev=2,r.map(function(){var e=d(f.mark((function e(t){var r,i;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.SkuList.withCredentials(a).includes("skus").select({skus:["code"]}).find(t);case 2:i=null==(r=e.sent.skus())?void 0:r.toArray().map((function(e){return e.code})),s[t]=i;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i({payload:{skuLists:s},type:"getSkuList"}),e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),U=function(e,t){return y(e,t,q)},H=t.createContext(K),W=function(){var e=d(f.mark((function e(t){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l.post(t.url,t.data));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=t.createContext({url:null,callExternalFunction:W}),Z=F.AddToCartButton.defaultProps,X=F.AddToCartButton.displayName,Q=function(e){var a,n=e.label,i=void 0===n?"Add to cart":n,l=e.children,o=e.skuCode,u=e.disabled,d=e.skuListId,v=e.lineItem,f=c(e,["label","children","skuCode","disabled","skuListId","lineItem"]),y=t.useContext(N),h=y.addToCart,b=y.orderId,C=y.getOrder,g=y.setOrderErrors,A=t.useContext(Y),I=A.url,T=A.callExternalFunction,E=t.useContext(x),k=E.item,S=E.items,P=E.quantity,R=E.option,O=E.prices,M=E.lineItems,w=E.lineItem,D=E.skuCode,B=t.useContext(H).skuLists,_=!s.isEmpty(S)&&o?null==(a=S[o])?void 0:a.code:o||L(k)||D,G=function(){var e,t,r=P[_],a=R[_],n=s.isEmpty(v||w)?M[_]:v||w;if(!s.isEmpty(B)&&d&&I){var i=P[d]||1;if(s.has(B,d)){var l=B[d].map((function(e){return{skuCode:e,quantity:i,_update_quantity:1}}));return T({url:I,data:{resourceType:"orders",inputs:[{id:b,lineItems:l}]}}).then((function(e){return C&&b&&C(b),e})).catch((function(e){var t=e.response;return g&&g(t.data),t}))}}return I?T({url:I,data:{skuCode:_,skuId:null==(t=k[_])?void 0:t.id,quantity:r,option:a,lineItem:n}}).then((function(e){return C&&b&&C(b),e})).catch((function(e){var t=e.response;return g&&g(t.data),t})):h&&h({skuCode:_,skuId:null==(e=k[_])?void 0:e.id,quantity:r,option:a,lineItem:n})},F=!(!s.isEmpty(B)||d)&&(u||!O[_]||!_),q=p({handleClick:G,disabled:u||F,label:i},e);return l?r.createElement(m,q,l):r.createElement("button",p({disabled:F,onClick:G},f),i)};Q.propTypes=F.AddToCartButton.propTypes,Q.defaultProps=Z,Q.displayName=X;var j=t.createContext({address:{}}),J=function(){var e=d(f.mark((function e(t){var r,a,n,i,s;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.config,a=t.customerEmail,n=t.dispatch,i=t.order,s=t.getOrder,e.prev=1,!i){e.next=8;break}return e.next=5,i.withCredentials(r).update({customerEmail:a});case 5:s(e.sent.id),n({type:"setCustomerEmail",payload:{customerEmail:a}});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=d(f.mark((function e(t){var r,a,i,s;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.config,a=t.dispatch,e.prev=1,e.next=4,n.CustomerAddress.withCredentials(r).includes("address").all();case 4:i=e.sent.toArray().map((function(e){return e.address()})),a({type:"setAddresses",payload:{addresses:i}}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),s=C(e.t0,"address"),a({type:"setErrors",payload:{errors:s}});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),$={errors:[],addresses:[]},ee=["setErrors","setCustomerEmail","setAddresses"],te=function(e,t){return y(e,t,ee)},re={saveCustomerUser:function(){var e=d(f.mark((function e(){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),setCustomerErrors:function(e,t){t&&t({type:"setErrors",payload:{errors:e}})},setCustomerEmail:function(e,t){t&&t({type:"setCustomerEmail",payload:{customerEmail:e}})}},ae=t.createContext(re),ne=t.createContext({setBillingAddress:function(){}}),ie=t.createContext({}),se=["city","company","country_code","first_name","last_name","line_1","line_2","phone","state_code","zip_code"],le={errors:[]},oe=function(){var e=d(f.mark((function e(t){var r,a,i,l,o,u,d,p,c,m,v,y,h,b,C;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.config,a=t.getOrder,i=t.order,o=(l=t.state).shipToDifferentAddress,u=l.billingAddress,d=l.shippingAddress,p=l.billingAddressId,c=l.shippingAddressId,e.prev=2,v=null==i||null==(m=i.billingAddress())?void 0:m.reference,y={_billingAddressCloneId:p,_shippingAddressCloneId:p},v===p&&(y._billingAddressCloneId=null==i||null==(h=i.billingAddress())?void 0:h.id,y._shippingAddressCloneId=null==i||null==(b=i.billingAddress())?void 0:b.id),s.isEmpty(u)||!u){e.next=13;break}return delete y._billingAddressCloneId,delete y._shippingAddressCloneId,y._shippingAddressSameAsBilling=!0,e.next=12,n.Address.withCredentials(r).create(u);case 12:y.billingAddress=e.sent;case 13:if(!o){e.next=21;break}if(delete y._shippingAddressSameAsBilling,c&&(y._shippingAddressCloneId=c),s.isEmpty(d)||!d){e.next=21;break}return delete y._shippingAddressCloneId,e.next=20,n.Address.withCredentials(r).create(d);case 20:y.shippingAddress=e.sent;case 21:if(!i||!a||s.isEmpty(y)){e.next=29;break}return e.next=24,n.Order.withCredentials(r).find(i.id);case 24:return C=e.sent,e.next=27,C.withCredentials(r).update(y);case 27:return e.next=29,a(i.id);case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(2),console.error(e.t0);case 34:case"end":return e.stop()}}),e,null,[[2,31]])})));return function(t){return e.apply(this,arguments)}}(),ue=["setErrors","setAddress","setShipToDifferentAddress","setCloneAddress"],de=function(e,t){return y(e,t,ue)},pe={saveAddresses:function(){},setCloneAddress:function(){},setAddress:function(e){var t,r=e.dispatch;r&&r({type:"setAddress",payload:(t={},t[""+e.resource]=e.values,t)})},setAddressErrors:function(e,t){t&&t({type:"setErrors",payload:{errors:e}})}},ce=t.createContext(pe),me=function(e){var a=e.children,n=e.className,i=e.selectedClassName,l=void 0===i?"":i,o=e.disabledClassName,u=void 0===o?"":o,m=e.onSelect,v=e.addresses,y=void 0===v?[]:v,h=e.deselect,b=void 0!==h&&h,C=c(e,["children","className","selectedClassName","disabledClassName","onSelect","addresses","deselect"]),g=t.useContext(ae).addresses,A=t.useContext(ne),I=A.setBillingAddress,T=A.billingCustomerAddressId,E=t.useContext(ie),k=E.setShippingAddress,S=E.shippingCustomerAddressId,x=t.useContext(ce),L=x.shipToDifferentAddress,P=x.billingAddressId,R=x.shippingAddressId,O=t.useContext(N).order,M=t.useState(null),w=M[0],D=M[1],B=s.isEmpty(y)?g&&g||[]:y;t.useEffect((function(){B&&!b&&B.map((function(e,t){T&&e.reference===T&&null===w&&D(t),P||t!==w||I&&I(e.id,{customerAddressId:e.customerAddressId}),S&&e.reference===S&&null===w&&D(t),R||t!==w||k&&k(e.id,{customerAddressId:e.customerAddressId})})),b&&function(){var e=d(f.mark((function e(){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=I,!e.t0){e.next=4;break}return e.next=4,I("");case 4:if(e.t1=k,!e.t1){e.next=8;break}return e.next=8,k("");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[b,T,S,g,L]);var _=function(){var e=d(f.mark((function e(t,r,a,n){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n&&D(t),e.t0=I,!e.t0){e.next=5;break}return e.next=5,I(r,{customerAddressId:a});case 5:if(e.t1=!n&&k,!e.t1){e.next=9;break}return e.next=9,k(r,{customerAddressId:a});case 9:m&&m();case 10:case"end":return e.stop()}}),e)})));return function(t,r,a,n){return e.apply(this,arguments)}}(),G=B.map((function(e,t){var i=null==O?void 0:O.shippingCountryCodeLock,s=k&&i&&i!==e.countryCode||!1,o=(null==e?void 0:e.customerAddressId)||"";return r.createElement(j.Provider,{key:t,value:{address:e}},r.createElement("div",p({className:s?n+" "+u:w===t?n+" "+(b?"":l):n,onClick:function(){return _(t,e.id,o,s)},"data-disabled":s},C),a))}));return r.createElement(t.Fragment,null,G)};me.propTypes=F.Address.propTypes;var ve=r.forwardRef((function(e,t){var a=e.options,n=void 0===a?[]:a,i=e.children,l=e.placeholder,o=void 0===l?{label:"Select an option",value:""}:l,u=e.value,d=void 0===u?"":u,v=c(e,["options","children","placeholder","value"]);-1===s.findIndex(n,o)?n.unshift(o):n[0]=o;var f=n.map((function(e,t){var a=e.label,n=c(e,["label"]);return r.createElement("option",p({key:t},n),a)})),y=p({options:n,ref:t},v);return i?r.createElement(m,y,i):r.createElement("select",p({ref:t,defaultValue:d},v),f)})),fe=[{label:"Afghanistan",value:"AF"},{label:"Albania",value:"AL"},{label:"Algeria",value:"DZ"},{label:"American Samoa",value:"AS"},{label:"Andorra",value:"AD"},{label:"Angola",value:"AO"},{label:"Anguilla",value:"AI"},{label:"Antarctica",value:"AQ"},{label:"Antigua and Barbuda",value:"AG"},{label:"Argentina",value:"AR"},{label:"Armenia",value:"AM"},{label:"Aruba",value:"AW"},{label:"Australia",value:"AU"},{label:"Austria",value:"AT"},{label:"Azerbaijan",value:"AZ"},{label:"Bahamas",value:"BS"},{label:"Bahrain",value:"BH"},{label:"Bangladesh",value:"BD"},{label:"Barbados",value:"BB"},{label:"Belarus",value:"BY"},{label:"Belgium",value:"BE"},{label:"Belize",value:"BZ"},{label:"Benin",value:"BJ"},{label:"Bermuda",value:"BM"},{label:"Bhutan",value:"BT"},{label:"Bolivia",value:"BO"},{label:"Bosnia and Herzegovina",value:"BA"},{label:"Botswana",value:"BW"},{label:"Bouvet Island",value:"BV"},{label:"Brazil",value:"BR"},{label:"British Indian Ocean Territory",value:"IO"},{label:"Brunei",value:"BN"},{label:"Bulgaria",value:"BG"},{label:"Burkina Faso",value:"BF"},{label:"Burundi",value:"BI"},{label:"Cambodia",value:"KH"},{label:"Cameroon",value:"CM"},{label:"Canada",value:"CA"},{label:"Cape Verde",value:"CV"},{label:"Cayman Islands",value:"KY"},{label:"Central African Republic",value:"CF"},{label:"Chad",value:"TD"},{label:"Chile",value:"CL"},{label:"China",value:"CN"},{label:"Christmas Island",value:"CX"},{label:"Cocos (Keeling) Islands",value:"CC"},{label:"Colombia",value:"CO"},{label:"Comoros",value:"KM"},{label:"Congo",value:"CG"},{label:"Cook Islands",value:"CK"},{label:"Costa Rica",value:"CR"},{label:"Croatia",value:"HR"},{label:"Cuba",value:"CU"},{label:"Cyprus",value:"CY"},{label:"Czech Republic",value:"CZ"},{label:"Denmark",value:"DK"},{label:"Djibouti",value:"DJ"},{label:"Dominica",value:"DM"},{label:"Dominican Republic",value:"DO"},{label:"East Timor",value:"TP"},{label:"Ecuador",value:"EC"},{label:"Egypt",value:"EG"},{label:"El Salvador",value:"SV"},{label:"Equatorial Guinea",value:"GQ"},{label:"Eritrea",value:"ER"},{label:"Estonia",value:"EE"},{label:"Ethiopia",value:"ET"},{label:"Falkland Islands",value:"FK"},{label:"Faroe Islands",value:"FO"},{label:"Fiji Islands",value:"FJ"},{label:"Finland",value:"FI"},{label:"France",value:"FR"},{label:"French Guiana",value:"GF"},{label:"French Polynesia",value:"PF"},{label:"French Southern territories",value:"TF"},{label:"Gabon",value:"GA"},{label:"Gambia",value:"GM"},{label:"Georgia",value:"GE"},{label:"Germany",value:"DE"},{label:"Ghana",value:"GH"},{label:"Gibraltar",value:"GI"},{label:"Greece",value:"GR"},{label:"Greenland",value:"GL"},{label:"Grenada",value:"GD"},{label:"Guadeloupe",value:"GP"},{label:"Guam",value:"GU"},{label:"Guatemala",value:"GT"},{label:"Guinea",value:"GN"},{label:"Guinea-Bissau",value:"GW"},{label:"Guyana",value:"GY"},{label:"Haiti",value:"HT"},{label:"Heard Island and McDonald Islands",value:"HM"},{label:"Holy See (Vatican City State)",value:"VA"},{label:"Honduras",value:"HN"},{label:"Hong Kong",value:"HK"},{label:"Hungary",value:"HU"},{label:"Iceland",value:"IS"},{label:"India",value:"IN"},{label:"Indonesia",value:"ID"},{label:"Iran",value:"IR"},{label:"Iraq",value:"IQ"},{label:"Ireland",value:"IE"},{label:"Israel",value:"IL"},{label:"Italy",value:"IT"},{label:"Ivory Coast",value:"CI"},{label:"Jamaica",value:"JM"},{label:"Japan",value:"JP"},{label:"Jordan",value:"JO"},{label:"Kazakhstan",value:"KZ"},{label:"Kenya",value:"KE"},{label:"Kiribati",value:"KI"},{label:"Kuwait",value:"KW"},{label:"Kyrgyzstan",value:"KG"},{label:"Laos",value:"LA"},{label:"Latvia",value:"LV"},{label:"Lebanon",value:"LB"},{label:"Lesotho",value:"LS"},{label:"Liberia",value:"LR"},{label:"Libyan Arab Jamahiriya",value:"LY"},{label:"Liechtenstein",value:"LI"},{label:"Lithuania",value:"LT"},{label:"Luxembourg",value:"LU"},{label:"Macao",value:"MO"},{label:"North Macedonia",value:"MK"},{label:"Madagascar",value:"MG"},{label:"Malawi",value:"MW"},{label:"Malaysia",value:"MY"},{label:"Maldives",value:"MV"},{label:"Mali",value:"ML"},{label:"Malta",value:"MT"},{label:"Marshall Islands",value:"MH"},{label:"Martinique",value:"MQ"},{label:"Mauritania",value:"MR"},{label:"Mauritius",value:"MU"},{label:"Mayotte",value:"YT"},{label:"Mexico",value:"MX"},{label:"Micronesia, Federated States of",value:"FM"},{label:"Moldova",value:"MD"},{label:"Monaco",value:"MC"},{label:"Mongolia",value:"MN"},{label:"Montserrat",value:"MS"},{label:"Morocco",value:"MA"},{label:"Mozambique",value:"MZ"},{label:"Myanmar",value:"MM"},{label:"Namibia",value:"NA"},{label:"Nauru",value:"NR"},{label:"Nepal",value:"NP"},{label:"Netherlands",value:"NL"},{label:"Netherlands Antilles",value:"AN"},{label:"New Caledonia",value:"NC"},{label:"New Zealand",value:"NZ"},{label:"Nicaragua",value:"NI"},{label:"Niger",value:"NE"},{label:"Nigeria",value:"NG"},{label:"Niue",value:"NU"},{label:"Norfolk Island",value:"NF"},{label:"North Korea",value:"KP"},{label:"Northern Mariana Islands",value:"MP"},{label:"Norway",value:"NO"},{label:"Oman",value:"OM"},{label:"Pakistan",value:"PK"},{label:"Palau",value:"PW"},{label:"Palestine",value:"PS"},{label:"Panama",value:"PA"},{label:"Papua New Guinea",value:"PG"},{label:"Paraguay",value:"PY"},{label:"Peru",value:"PE"},{label:"Philippines",value:"PH"},{label:"Pitcairn",value:"PN"},{label:"Poland",value:"PL"},{label:"Portugal",value:"PT"},{label:"Puerto Rico",value:"PR"},{label:"Qatar",value:"QA"},{label:"Reunion",value:"RE"},{label:"Romania",value:"RO"},{label:"Russian Federation",value:"RU"},{label:"Rwanda",value:"RW"},{label:"Saint Helena",value:"SH"},{label:"Saint Kitts and Nevis",value:"KN"},{label:"Saint Lucia",value:"LC"},{label:"Saint Pierre and Miquelon",value:"PM"},{label:"Saint Vincent and the Grenadines",value:"VC"},{label:"Samoa",value:"WS"},{label:"San Marino",value:"SM"},{label:"Sao Tome and Principe",value:"ST"},{label:"Saudi Arabia",value:"SA"},{label:"Senegal",value:"SN"},{label:"Seychelles",value:"SC"},{label:"Sierra Leone",value:"SL"},{label:"Singapore",value:"SG"},{label:"Slovakia",value:"SK"},{label:"Slovenia",value:"SI"},{label:"Solomon Islands",value:"SB"},{label:"Somalia",value:"SO"},{label:"South Africa",value:"ZA"},{label:"South Georgia and the South Sandwich Islands",value:"GS"},{label:"South Korea",value:"KR"},{label:"South Sudan",value:"SS"},{label:"Spain",value:"ES"},{label:"Sri Lanka",value:"LK"},{label:"Sudan",value:"SD"},{label:"Surilabel",value:"SR"},{label:"Svalbard and Jan Mayen",value:"SJ"},{label:"Swaziland",value:"SZ"},{label:"Sweden",value:"SE"},{label:"Switzerland",value:"CH"},{label:"Syria",value:"SY"},{label:"Tajikistan",value:"TJ"},{label:"Tanzania",value:"TZ"},{label:"Thailand",value:"TH"},{label:"The Democratic Republic of Congo",value:"CD"},{label:"Togo",value:"TG"},{label:"Tokelau",value:"TK"},{label:"Tonga",value:"TO"},{label:"Trinidad and Tobago",value:"TT"},{label:"Tunisia",value:"TN"},{label:"Turkey",value:"TR"},{label:"Turkmenistan",value:"TM"},{label:"Turks and Caicos Islands",value:"TC"},{label:"Tuvalu",value:"TV"},{label:"Uganda",value:"UG"},{label:"Ukraine",value:"UA"},{label:"United Arab Emirates",value:"AE"},{label:"United Kingdom",value:"GB"},{label:"United States",value:"US",states:["AL","AK","AZ","AR","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","PR","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"]},{label:"United States Minor Outlying Islands",value:"UM"},{label:"Uruguay",value:"UY"},{label:"Uzbekistan",value:"UZ"},{label:"Vanuatu",value:"VU"},{label:"Venezuela",value:"VE"},{label:"Vietnam",value:"VN"},{label:"Virgin Islands, British",value:"VG"},{label:"Virgin Islands, U.S.",value:"VI"},{label:"Wallis and Futuna",value:"WF"},{label:"Western Sahara",value:"EH"},{label:"Yemen",value:"YE"},{label:"Yugoslavia",value:"YU"},{label:"Zambia",value:"ZM"},{label:"Zimbabwe",value:"ZW"}],ye=t.createContext({}),he=t.createContext({}),be=F.AddressCountrySelector.defaultProps,Ce=F.AddressCountrySelector.displayName,ge=function(e){var a=e.required,n=void 0===a||a,i=e.value,s=e.name,l=t.useContext(ye),o=t.useContext(he);return t.useEffect((function(){i&&null!=l&&l.setValue&&l.setValue(s,i),i&&null!=o&&o.setValue&&o.setValue(s,i)}),[i]),r.createElement(ve,p({ref:(null==l?void 0:l.validation)||(null==o?void 0:o.validation),required:n,options:fe},e))};ge.propTypes=F.AddressCountrySelector.propTypes,ge.defaultProps=be,ge.displayName=Ce;var Ae=F.AddressField.displayName,Ie=function(e){var a=e.name,n=t.useContext(j).address,i=s.camelCase(a),l=s.get(n,i),o=p({},e);return e.children?r.createElement(m,o,e.children):r.createElement("p",e,l)};Ie.propTypes=F.AddressField.propTypes,Ie.displayName=Ae;var Te=r.forwardRef((function(e,t){var a=e.children,n=c(e,["children"]),i=r.createElement("textarea"===e.type?"textarea":"input",p({ref:t},n));return a?r.createElement(m,n,a):i})),Ee=F.AddressInput.displayName,ke=function(e){var a=e.placeholder,n=void 0===a?"":a,i=e.required,s=e.value,l=c(e,["placeholder","required","value"]),o=t.useContext(ye),u=t.useContext(he);return t.useEffect((function(){s&&null!=o&&o.setValue&&o.setValue(l.name,s),s&&null!=u&&u.setValue&&u.setValue(l.name,s)}),[s]),r.createElement(Te,p({ref:(null==o?void 0:o.validation)||(null==u?void 0:u.validation),required:void 0===i||i,placeholder:n,defaultValue:s},l))};ke.propTypes=F.AddressInput.propTypes,ke.displayName=Ee;var Ne=t.createContext({accessToken:"",endpoint:"",cache:!1}),Se=F.AddressesContainer.displayName,xe=function(e){var a=e.children,n=e.shipToDifferentAddress,i=void 0!==n&&n,s=t.useReducer(de,le),l=s[0],o=s[1],u=t.useContext(N),c=u.order,m=u.orderId,v=u.getOrder,y=t.useContext(Ne);t.useEffect((function(){o({type:"setShipToDifferentAddress",payload:{shipToDifferentAddress:i}})}),[i]);var h,b=p({},l,{setAddressErrors:function(e){return pe.setAddressErrors(e,o)},setAddress:function(e){return pe.setAddress(p({},e,{dispatch:o}))},saveAddresses:(h=d(f.mark((function e(){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe({config:y,dispatch:o,getOrder:v,order:c,orderId:m,state:l});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return h.apply(this,arguments)}),setCloneAddress:function(e,t){return function(e,t,r){var a;r({type:"setCloneAddress",payload:(a={},a[t+"Id"]=e,a)})}(e,t,o)}});return r.createElement(ce.Provider,{value:b},a)};xe.propTypes=F.AddressesContainer.propTypes,xe.displayName=Se;var Le={quantity:null,min:{days:0,hours:0},max:{days:0,hours:0},errors:[]},Pe=function(){var e=d(f.mark((function e(t){var r,a,i,l,o,u,d,c;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.skuCode,i=t.dispatch,l=t.config,e.next=3,n.Sku.withCredentials(l).select("id").where({codeIn:a}).first();case 3:return o=e.sent,e.next=6,n.Sku.withCredentials(l).select("inventory").find(o.id);case 6:d=s.first(null==(u=e.sent)||null==(r=u.inventory)?void 0:r.levels),c=s.first(null==d?void 0:d.deliveryLeadTimes),i({type:"setAvailability",payload:p({},c,{quantity:null==d?void 0:d.quantity})});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=["setAvailability","setErrors"],Oe=function(e,t){return y(e,t,Re)},Me=t.createContext(Le),we=F.AvailabilityContainer.displayName,De=function(e){var a=e.children,n=e.skuCode,i=t.useContext(x),l=i.item,o=i.skuCode,u=t.useContext(Ne),d=t.useReducer(Oe,Le),c=d[0],m=d[1];return t.useEffect((function(){var e=n||L(l)||o;if(e){var t,r,a=s.first(null==(t=l[e])||null==(r=t.inventory)?void 0:r.levels)||{quantity:null,deliveryLeadTimes:[]};if(!s.isEmpty(a)&&a.deliveryLeadTimes.length>0){var i=s.first(a.deliveryLeadTimes);m({type:"setAvailability",payload:p({},i,{quantity:null==a?void 0:a.quantity})})}else u.accessToken&&Pe({skuCode:e,config:u,dispatch:m})}return function(){m({type:"setAvailability",payload:{}})}}),[u.accessToken,l,o]),r.createElement(Me.Provider,{value:p({},c)},a)};De.propTypes=F.AvailabilityContainer.propTypes,De.displayName=we;var Be=F.AvailabilityTemplate.defaultProps,_e=F.AvailabilityTemplate.displayName,Ge=function(e){var a=e.timeFormat,n=e.showShippingMethodName,i=e.children,l=c(e,["timeFormat","showShippingMethodName","children"]),o=t.useContext(Me),u=o.min,d=o.max,v=o.shippingMethod,f=o.quantity,y=s.isEmpty(u)?"":u[""+a],h=s.isEmpty(d)?"":d[""+a],b=[],C=n&&v?"with "+v.name:"";f&&f>0?(b.push("Available"),y&&h&&b.push("in "+y+" - "+h+" "+a+" "+C)):0===f&&b.push("Out of stock");var g=p({min:u,max:d,shippingMethod:v,quantity:f},e);return i?r.createElement(m,g,i):r.createElement("p",l,b.join(" "))};Ge.propTypes=F.AvailabilityTemplate.propTypes,Ge.defaultProps=Be,Ge.displayName=_e;var Fe={_billingAddressCloneId:""},qe=function(){var e=d(f.mark((function e(t,r){var a;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null==r||!r.order){e.next=10;break}if(!r.customerAddressId){e.next=9;break}return e.next=5,n.Address.withCredentials(r.config).find(t);case 5:if((a=e.sent).reference===r.customerAddressId){e.next=9;break}return e.next=9,a.withCredentials(r.config).update({reference:r.customerAddressId});case 9:r.dispatch({type:"setBillingAddress",payload:{_billingAddressCloneId:t}});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}(),Ke=["setBillingAddress","setBillingCustomerAddressId"],Ve=function(e,t){return y(e,t,Ke)},Ue=function(e){var a=e.children,n=t.useReducer(Ve,Fe),i=n[0],s=n[1],l=t.useContext(Ne),o=t.useContext(N),u=o.order,c=o.getOrder,m=t.useContext(ce),v=m.shipToDifferentAddress,y=m.setCloneAddress;t.useEffect((function(){if(u){var e,t=(null==(e=u.billingAddress())?void 0:e.reference)||"";(0,(r={customerAddressId:t,dispatch:s}).dispatch)({type:"setBillingCustomerAddressId",payload:{billingCustomerAddressId:r.customerAddressId}}),y(t,"billingAddress")}var r}),[u]);var h,b=p({},i,{setBillingAddress:(h=d(f.mark((function e(t,r){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe(t,{config:l,dispatch:s,order:u,getOrder:c,shipToDifferentAddress:v,customerAddressId:null==r?void 0:r.customerAddressId});case 2:y(t,"billingAddress");case 3:case"end":return e.stop()}}),e)}))),function(e,t){return h.apply(this,arguments)})});return r.createElement(ne.Provider,{value:b},a)};Ue.propTypes=F.BillingAddressContainer.propTypes;var He=function(e){var a=e.children,n=e.autoComplete,i=void 0===n?"on":n,l=e.reset,u=void 0!==l&&l,d=c(e,["children","autoComplete","reset"]),m=o(),v=m.validation,f=m.values,y=m.errors,h=m.reset,b=t.useContext(ce),C=b.setAddressErrors,g=b.setAddress,A=t.useContext(N).saveAddressToCustomerBook,I=t.useRef(null);return t.useEffect((function(){if(s.isEmpty(y)){if(!s.isEmpty(f)){for(var e in C([]),f){var t=f[e];null!=t&&t.value&&(f[e.replace("billing_address_","")]=t.value,delete f[e]),"checkbox"===(null==t?void 0:t.type)&&(delete f[e],A("BillingAddress",t.checked))}g({values:f,resource:"billingAddress"})}}else{var r=[];for(var a in y){var n=y[a];r.push({code:n.code,message:n.message,resource:"billingAddress",field:a})}!s.isEmpty(r)&&C(r)}var i;!u||s.isEmpty(f)&&s.isEmpty(y)||(A&&A("BillingAddress",!1),I&&(null==(i=I.current)||i.reset(),h({target:I.current}),C([]),g({values:{},resource:"billingAddress"})))}),[y,f,u]),r.createElement(ye.Provider,{value:{validation:v,setValue:function(e,t){var r,a=((r={})[e.replace("billing_address_","")]=t,r);g({values:p({},f,a),resource:"billingAddress"})}}},r.createElement("form",p({ref:I,autoComplete:i},d),a))};He.propTypes=F.BillingAddressForm.propTypes;var We=F.CheckoutLink.defaultProps,Ye=F.CheckoutLink.displayName,Ze=function(e){var a=e.label,n=e.children,i=c(e,["label","children"]),s=t.useContext(N).order,l=p({checkoutUrl:null==s?void 0:s.checkoutUrl,label:a},i);return n?r.createElement(m,l,n):r.createElement("a",p({href:null==s?void 0:s.checkoutUrl},i),a)};Ze.propTypes=F.CheckoutLink.propTypes,Ze.defaultProps=We,Ze.displayName=Ye;var Xe=function(e){var t=e.children,a=e.cache,n=void 0!==a&&a,i=c(e,["children","cache"]);return r.createElement(Ne.Provider,{value:p({},i,{cache:n})},t)};Xe.propTypes=F.CommerceLayer.propTypes,Xe.defaultProps={cache:!1};var Qe=F.CustomerContainer.displayName,je=function(e){var a=e.children,n=e.isGuest,i=void 0!==n&&n,l=t.useReducer(te,$),o=l[0],u=l[1],c=t.useContext(N),m=c.order,v=c.getOrder,y=t.useContext(Ne);t.useEffect((function(){y.accessToken&&s.isEmpty(o.addresses)&&!i&&z({config:y,dispatch:u})}),[y.accessToken]);var h,b=p({},o,{saveCustomerUser:(h=d(f.mark((function e(t){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J({config:y,customerEmail:t,dispatch:u,getOrder:v,order:m});case 2:case"end":return e.stop()}}),e)}))),function(e){return h.apply(this,arguments)}),setCustomerErrors:function(e){return re.setCustomerErrors(e,u)},setCustomerEmail:function(e){return re.setCustomerEmail(e,u)}});return r.createElement(ae.Provider,{value:b},a)};je.propTypes=F.CustomerContainer.propTypes,je.displayName=Qe;var Je=F.CustomerInput.displayName,ze=function(e){var a=e.name,n=void 0===a?"customer_email":a,i=e.placeholder,l=void 0===i?"":i,u=e.required,m=void 0===u||u,v=e.saveOnBlur,y=void 0!==v&&v,h=e.type,b=void 0===h?"email":h,C=e.value,g=e.onBlur,A=c(e,["name","placeholder","required","saveOnBlur","type","value","onBlur"]),I=o(),T=I.validation,E=I.values,k=I.errors,N=t.useContext(ae),S=N.saveCustomerUser,x=N.setCustomerErrors,L=N.setCustomerEmail,P=function(){var e=d(f.mark((function e(){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!y||!s.isEmpty(k)||s.isEmpty(E)){e.next=4;break}return e.next=3,S(E[n].value);case 3:g&&g();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t.useEffect((function(){if(s.isEmpty(k))s.isEmpty(E)||(x([]),L(E[n].value));else{var e=[];for(var t in k){var r=k[t];e.push({code:r.code,message:r.message,resource:"order",field:t})}!s.isEmpty(e)&&x(e)}}),[k]),r.createElement(Te,p({name:n,type:b,ref:T,required:m,placeholder:l,defaultValue:C,onBlur:P},A))};ze.propTypes=F.CustomerInput.propTypes,ze.displayName=Je;var $e=function(e,t,r,a){var n;return s.keys(a).map((function(i){var s=i.toLowerCase(),l=(""+r+t+e).toLowerCase(),o=(""+t+e+r).toLowerCase(),u=(""+r+e+t).toLowerCase(),d=(""+e+t+r).toLowerCase();s===l&&(n=a[i]),s===o&&(n=a[i]),s===u&&(n=a[i]),s===d&&(n=a[i])})),n},et=function(e){var a=e.format,n=e.base,i=e.type,l=e.children,o=c(e,["format","base","type","children"]),u=t.useContext(N).order,d=t.useState(""),v=d[0],f=d[1];t.useEffect((function(){var e=$e(n,i,a||"formatted",u||{});return f(e),function(){s.isEmpty(u)&&f("")}}),[u]);var y=p({price:v},o);return e.children?r.createElement(m,y,l):r.createElement("span",o,v)};et.propTypes=B,et.defaultProps={format:"formatted"};var tt=F.DiscountAmount.defaultProps,rt=F.DiscountAmount.displayName,at=function(e){return r.createElement(et,p({base:"amount",type:"discount"},e))};at.propTypes=F.DiscountAmount.propTypes,at.defaultProps=tt,at.displayName=rt;var nt={currencyCode:"",balanceCent:0,singleUse:!1,rechargeable:!0,loading:!1,expiresAt:null,errors:[]},it=function(){var e=d(f.mark((function e(t,r,a){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.GiftCardRecipient.withCredentials(r).create(t);case 3:a({type:"setGiftCardRecipient",payload:{giftCardRecipient:e.sent}}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r,a){return e.apply(this,arguments)}}(),st=function(e,t){t({type:"setGiftCardLoading",payload:{loading:e}})},lt=function(){var e=d(f.mark((function e(t,r){var a,n,l,o,u,d,m,v,y,h,b,g,A,I,T,E,k;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.config,n=r.dispatch,l=r.getOrder,o=r.createOrder,e.prev=1,st(!0,n),u=t.firstName,d=t.lastName,m=t.email,v=t.orderId,y=c(t,["firstName","lastName","email","orderId"]),h=p({recipientEmail:m},y),b={},e.next=8,i.GiftCard.withCredentials(a).create(h);case 8:if(g=e.sent,u&&(b.firstName=u),d&&(b.lastName=d),s.isEmpty(b)){e.next=22;break}return e.next=14,g.withCredentials(a).giftCardRecipient();case 14:if(e.t0=A=e.sent,null!=e.t0){e.next=19;break}e.t1=void 0,e.next=20;break;case 19:e.t1=A.update(b);case 20:return e.next=22,e.t1;case 22:if(!o||!l){e.next=35;break}if(e.t2=v,e.t2){e.next=28;break}return e.next=27,o();case 27:e.t2=e.sent;case 28:if(!(I=e.t2)){e.next=35;break}return T=i.Order.build({id:I}),E=i.GiftCard.build({id:g.id}),e.next=34,i.LineItem.withCredentials(a).create({quantity:1,order:T,item:E});case 34:l&&l(I);case 35:n({type:"setGiftCardRecipient",payload:p({},h)}),st(!1,n),e.next=44;break;case 39:e.prev=39,e.t3=e.catch(1),k=C(e.t3,"giftCard"),n({type:"setGiftCardErrors",payload:{errors:k}}),st(!1,n);case 44:case"end":return e.stop()}}),e,null,[[1,39]])})));return function(t,r){return e.apply(this,arguments)}}(),ot=["setAvailability","setGiftCardRecipient","setGiftCardErrors","setGiftCardLoading"],ut=function(e,t){return y(e,t,ot)},dt=t.createContext(nt),pt=t.createContext({lineItems:[]}),ct=t.createContext({lineItem:{}}),mt=F.Errors.defaultProps,vt=F.Errors.displayName,ft=function(e){var a=e.children,n=e.messages,i=void 0===n?[]:n,l=e.resource,o=e.field,u=void 0===o?"base":o,d=c(e,["children","messages","resource","field"]),v=t.useContext(N).errors,f=t.useContext(dt).errors,y=t.useContext(pt).errors,h=t.useContext(ce).errors,b=t.useContext(ae).errors,C=t.useContext(ct).lineItem,g=[].concat(f||[],v||[],y||[],h||[],b||[]),A=p({messages:i,resource:l,field:u},d),I=function(e){var t=e.messages,a=e.field,n=e.props,i=e.lineItem,l=e.resource;return e.allErrors.map((function(e,o){var u=function(e,t){return void 0===e&&(e=[]),s.first(e.filter((function(e){return e.code===t.code})))}(t,e);if(a){if("lineItem"===e.resource)return i&&e.id===i.id&&r.createElement("span",p({key:o},n),(null==u?void 0:u.message)||e.message);if(a===e.field&&l===e.resource)return r.createElement("span",p({key:o},n),(null==u?void 0:u.message)||e.message)}}))}({allErrors:g,field:u,messages:i,props:d,lineItem:C,resource:l});return a?r.createElement(m,A,a):r.createElement(t.Fragment,null,I)};ft.propTypes=F.Errors.propTypes,ft.defaultProps=mt,ft.displayName=vt;var yt=F.ExternalFunction.displayName,ht=function(e){return r.createElement(Y.Provider,{value:{url:e.url,callExternalFunction:W}},e.children)};ht.propTypes=F.ExternalFunction.propTypes,ht.displayName=yt;var bt=/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$/,Ct=function(e,t){return void 0===t&&(t=se),e.business?s.without(t,"first_name","last_name").length>s.keys(e).length:s.without(t,"line_2","company").length>s.keys(e).length},gt=F.GiftCard.defaultProps,At=F.GiftCard.displayName,It=function(e){var a=e.children,n=e.onSubmit,i=t.useRef(null),l=t.useContext(dt),o=l.addGiftCard,u=l.addGiftCardError;return r.createElement(t.Fragment,null,r.createElement("form",{key:"giftCardForm",name:"giftCardForm",ref:i,onSubmit:function(e){e.preventDefault();var t=i.current,r=function(e,t,r){var a=[],n={metadata:{}};return s.map(e,(function(e){var r=!!e.checked||"on"!==e.value&&e.value,i=e.getAttribute("name");if(i&&-1!==t.indexOf(i)||e.required){var l,o=function(e,t,r,a){return e?"email"===r&&s.isString(e)&&!e.match(bt)?{field:t,code:"VALIDATION_ERROR",message:t+" - is not valid",resourceType:"giftCard"}:{}:{field:t,code:"VALIDATION_ERROR",message:t+" - is required",resourceType:"giftCard"}}(r,e.name,e.type);s.isEmpty(o)||a.push(o),n=p({},n,((l={})[""+e.name]=r,l))}if(e.getAttribute("name")){var u,d,c=!!e.getAttribute("data-metadata");n=p({},n,c?{metadata:p({},n.metadata,(u={},u[""+e.name]=r,u))}:((d={})[""+e.name]=r,d))}})),{errors:a,values:n}}(null==t?void 0:t.elements,["currencyCode","balanceCents"]),a=r.errors,l=r.values;s.isEmpty(a)?(o(l),null==t||t.reset(),n&&n(l)):u(a)}},a))};It.propTypes=F.GiftCard.propTypes,It.defaultProps=gt,It.displayName=At;var Tt=F.GiftCardAmount.displayName,Et=function(e){return r.createElement(et,p({base:"amount",type:"giftcard"},e))};Et.propTypes=F.GiftCardAmount.propTypes,Et.displayName=Tt;var kt=F.GiftCardContainer.displayName,Nt=function(e){var a=e.children,n=t.useReducer(ut,nt),i=n[0],s=n[1],l=t.useContext(Ne),o=t.useContext(N),u=o.orderId,d=o.getOrder,c=o.createOrder,m=p({},i,{addGiftCardRecipient:function(e){return it(e,l,s)},addGiftCard:function(e){return lt(p({},e,{orderId:u}),{config:l,dispatch:s,getOrder:d,createOrder:c})},addGiftCardError:function(e){return function(e,t){t({type:"setGiftCardErrors",payload:{errors:e}})}(e,s)},addGiftCardLoading:function(e){return st(e,s)}});return r.createElement(dt.Provider,{value:m},a)};Nt.propTypes=F.GiftCardContainer.propTypes,Nt.displayName=kt;var St=[{value:"AED",label:"AED"},{value:"AFN",label:"AFN"},{value:"ALL",label:"ALL"},{value:"AMD",label:"AMD"},{value:"ANG",label:"ANG"},{value:"AOA",label:"AOA"},{value:"ARS",label:"ARS"},{value:"AUD",label:"AUD"},{value:"AWG",label:"AWG"},{value:"AZN",label:"AZN"},{value:"BAM",label:"BAM"},{value:"BBD",label:"BBD"},{value:"BDT",label:"BDT"},{value:"BGN",label:"BGN"},{value:"BHD",label:"BHD"},{value:"BIF",label:"BIF"},{value:"BMD",label:"BMD"},{value:"BND",label:"BND"},{value:"BOB",label:"BOB"},{value:"BRL",label:"BRL"},{value:"BSD",label:"BSD"},{value:"BTN",label:"BTN"},{value:"BWP",label:"BWP"},{value:"BYN",label:"BYN"},{value:"BYR",label:"BYR"},{value:"BZD",label:"BZD"},{value:"CAD",label:"CAD"},{value:"CDF",label:"CDF"},{value:"CHF",label:"CHF"},{value:"CLF",label:"CLF"},{value:"CLP",label:"CLP"},{value:"CNY",label:"CNY"},{value:"COP",label:"COP"},{value:"CRC",label:"CRC"},{value:"CUC",label:"CUC"},{value:"CUP",label:"CUP"},{value:"CVE",label:"CVE"},{value:"CZK",label:"CZK"},{value:"DJF",label:"DJF"},{value:"DKK",label:"DKK"},{value:"DOP",label:"DOP"},{value:"DZD",label:"DZD"},{value:"EGP",label:"EGP"},{value:"ERN",label:"ERN"},{value:"ETB",label:"ETB"},{value:"EUR",label:"EUR"},{value:"FJD",label:"FJD"},{value:"FKP",label:"FKP"},{value:"GBP",label:"GBP"},{value:"GEL",label:"GEL"},{value:"GHS",label:"GHS"},{value:"GIP",label:"GIP"},{value:"GMD",label:"GMD"},{value:"GNF",label:"GNF"},{value:"GTQ",label:"GTQ"},{value:"GYD",label:"GYD"},{value:"HKD",label:"HKD"},{value:"HNL",label:"HNL"},{value:"HRK",label:"HRK"},{value:"HTG",label:"HTG"},{value:"HUF",label:"HUF"},{value:"IDR",label:"IDR"},{value:"ILS",label:"ILS"},{value:"INR",label:"INR"},{value:"IQD",label:"IQD"},{value:"IRR",label:"IRR"},{value:"ISK",label:"ISK"},{value:"JMD",label:"JMD"},{value:"JOD",label:"JOD"},{value:"JPY",label:"JPY"},{value:"KES",label:"KES"},{value:"KGS",label:"KGS"},{value:"KHR",label:"KHR"},{value:"KMF",label:"KMF"},{value:"KPW",label:"KPW"},{value:"KRW",label:"KRW"},{value:"KWD",label:"KWD"},{value:"KYD",label:"KYD"},{value:"KZT",label:"KZT"},{value:"LAK",label:"LAK"},{value:"LBP",label:"LBP"},{value:"LKR",label:"LKR"},{value:"LRD",label:"LRD"},{value:"LSL",label:"LSL"},{value:"LTL",label:"LTL"},{value:"LVL",label:"LVL"},{value:"LYD",label:"LYD"},{value:"MAD",label:"MAD"},{value:"MDL",label:"MDL"},{value:"MGA",label:"MGA"},{value:"MKD",label:"MKD"},{value:"MMK",label:"MMK"},{value:"MNT",label:"MNT"},{value:"MOP",label:"MOP"},{value:"MRO",label:"MRO"},{value:"MUR",label:"MUR"},{value:"MVR",label:"MVR"},{value:"MWK",label:"MWK"},{value:"MXN",label:"MXN"},{value:"MYR",label:"MYR"},{value:"MZN",label:"MZN"},{value:"NAD",label:"NAD"},{value:"NGN",label:"NGN"},{value:"NIO",label:"NIO"},{value:"NOK",label:"NOK"},{value:"NPR",label:"NPR"},{value:"NZD",label:"NZD"},{value:"OMR",label:"OMR"},{value:"PAB",label:"PAB"},{value:"PEN",label:"PEN"},{value:"PGK",label:"PGK"},{value:"PHP",label:"PHP"},{value:"PKR",label:"PKR"},{value:"PLN",label:"PLN"},{value:"PYG",label:"PYG"},{value:"QAR",label:"QAR"},{value:"RON",label:"RON"},{value:"RSD",label:"RSD"},{value:"RUB",label:"RUB"},{value:"RWF",label:"RWF"},{value:"SAR",label:"SAR"},{value:"SBD",label:"SBD"},{value:"SCR",label:"SCR"},{value:"SDG",label:"SDG"},{value:"SEK",label:"SEK"},{value:"SGD",label:"SGD"},{value:"SHP",label:"SHP"},{value:"SKK",label:"SKK"},{value:"SLL",label:"SLL"},{value:"SOS",label:"SOS"},{value:"SRD",label:"SRD"},{value:"SSP",label:"SSP"},{value:"STD",label:"STD"},{value:"SVC",label:"SVC"},{value:"SYP",label:"SYP"},{value:"SZL",label:"SZL"},{value:"THB",label:"THB"},{value:"TJS",label:"TJS"},{value:"TMT",label:"TMT"},{value:"TND",label:"TND"},{value:"TOP",label:"TOP"},{value:"TRY",label:"TRY"},{value:"TTD",label:"TTD"},{value:"TWD",label:"TWD"},{value:"TZS",label:"TZS"},{value:"UAH",label:"UAH"},{value:"UGX",label:"UGX"},{value:"USD",label:"USD"},{value:"UYU",label:"UYU"},{value:"UZS",label:"UZS"},{value:"VEF",label:"VEF"},{value:"VND",label:"VND"},{value:"VUV",label:"VUV"},{value:"WST",label:"WST"},{value:"XAF",label:"XAF"},{value:"XAG",label:"XAG"},{value:"XAU",label:"XAU"},{value:"XBA",label:"XBA"},{value:"XBB",label:"XBB"},{value:"XBC",label:"XBC"},{value:"XBD",label:"XBD"},{value:"XCD",label:"XCD"},{value:"XDR",label:"XDR"},{value:"XOF",label:"XOF"},{value:"XPD",label:"XPD"},{value:"XPF",label:"XPF"},{value:"XPT",label:"XPT"},{value:"XTS",label:"XTS"},{value:"YER",label:"YER"},{value:"ZAR",label:"ZAR"},{value:"ZMK",label:"ZMK"},{value:"ZMW",label:"ZMW"},{value:"BTC",label:"BTC"},{value:"JEP",label:"JEP"},{value:"GGP",label:"GGP"},{value:"IMP",label:"IMP"},{value:"XFU",label:"XFU"},{value:"GBX",label:"GBX"},{value:"CNH",label:"CNH"},{value:"EEK",label:"EEK"},{value:"GHS",label:"GHS"},{value:"MTL",label:"MTL"},{value:"TMM",label:"TMM"},{value:"JPY",label:"JPY"},{value:"ZWD",label:"ZWD"},{value:"ZWL",label:"ZWL"},{value:"ZWN",label:"ZWN"},{value:"ZWR",label:"ZWR"}],xt=F.GiftCardCurrencySelector.defaultProps,Lt=F.GiftCardCurrencySelector.displayName,Pt=function(e){return r.createElement(ve,p({options:St,name:"currencyCode"},e))};Pt.propTypes=F.GiftCardCurrencySelector.propTypes,Pt.defaultProps=xt,Pt.displayName=Lt;var Rt=F.GiftCardInput.displayName,Ot=function(e){var t=e.placeholder,a=void 0===t?"":t,n=c(e,["placeholder"]);return r.createElement(Te,p({placeholder:a},n))};Ot.propTypes=F.GiftCardInput.propTypes,Ot.displayName=Rt;var Mt=function(e,t,r){var a;r({type:t.type,payload:(a={},a[""+t.key]=e,a)})},wt=["setItem","setItems","setQuantity","setOption","setPrices","setCustomLineItems","setCustomLineItem","setSkuCode"],Dt={items:{},item:{},quantity:{},option:{},prices:{},lineItems:{},lineItem:{},skuCode:""},Bt=function(e,t){return y(e,t,wt)},_t=F.ItemContainer.displayName,Gt=function(e){var a=e.children,n=e.skuCode,i=e.lineItem,s=t.useReducer(Bt,Dt),l=s[0],o=s[1];t.useEffect((function(){n&&Mt(n,{type:"setSkuCode",key:"skuCode"},o),i&&Mt(i,{type:"setCustomLineItem",key:"lineItem"},o)}),[]);var u=p({},S,l,{setItems:function(e){return Mt(e,{type:"setItems",key:"items"},o)},setItem:function(e){return Mt(e,{type:"setItem",key:"item"},o)},setQuantity:function(e){return Mt(e,{type:"setQuantity",key:"quantity"},o)},setOption:function(e){return Mt(e,{type:"setOption",key:"option"},o)},setPrices:function(e){return Mt(e,{type:"setPrices",key:"prices"},o)},setCustomLineItems:function(e){return Mt(e,{type:"setCustomLineItems",key:"lineItems"},o)}});return r.createElement(x.Provider,{value:u},a)};Gt.propTypes=F.ItemContainer.propTypes,Gt.displayName=_t;var Ft=t.createContext({lineItems:[],shippingMethods:[],stockTransfers:[]}),qt=F.LineItem.displayName,Kt=function(e){var a=e.type,n=void 0===a?"skus":a,i=e.children,l=t.useContext(pt).lineItems,o=t.useContext(Ft).lineItems,u=s.isEmpty(o)?l:o,d=u&&u.filter((function(e){return e.itemType===n})).map((function(e,t){return r.createElement(ct.Provider,{key:t,value:{lineItem:e}},i)}));return r.createElement(t.Fragment,null,d)};Kt.propTypes=F.LineItem.propTypes,Kt.displayName=qt,Kt.defaultProps={type:"skus"};var Vt=F.LineItemAmount.defaultProps,Ut=F.LineItemAmount.displayName,Ht=function(e){var a=e.format,n=void 0===a?"formatted":a,i=e.type,s=void 0===i?"total":i,l=c(e,["format","type"]),o=t.useContext(ct).lineItem,u=t.useState(""),d=u[0],v=u[1];t.useEffect((function(){var e=$e("amount",s,n,o);return v(e),function(){v("")}}),[o]);var f=p({price:d},l);return e.children?r.createElement(m,f,e.children):r.createElement("span",l,d)};Ht.propTypes=F.LineItemAmount.propTypes,Ht.defaultProps=Vt,Ht.displayName=Ut;var Wt=F.LineItemImage.displayName,Yt=function(e){var a=t.useContext(ct).lineItem.imageUrl,n=p({src:a},e);return e.children?r.createElement(m,n,e.children):r.createElement("img",p({src:a},e))};Yt.propTypes=F.LineItemImage.propTypes,Yt.displayName=Wt;var Zt=F.LineItemName.displayName,Xt=function(e){var a=t.useContext(ct).lineItem.name,n=p({},e);return e.children?r.createElement(m,n,e.children):r.createElement("p",e,a)};Xt.propTypes=F.LineItemName.propTypes,Xt.displayName=Zt;var Qt=t.createContext({lineItemOption:{}}),jt=F.LineItemOption.displayName,Jt=function(e){var a=e.name,n=e.children,i=e.keyClassName,l=e.keyId,o=e.keyStyle,u=e.valueClassName,d=e.id,v=e.style,f=c(e,["name","children","keyClassName","keyId","keyStyle","valueClassName","id","style"]),y=t.useContext(Qt).lineItemOption,h=p({},e,{lineItemOption:y});return n?r.createElement(m,h,e.children):s.has(y,"options."+a)?r.createElement(t.Fragment,null,r.createElement("span",p({id:l,style:o,className:i},f),a+":"),r.createElement("span",p({id:d,style:v,className:u},f),""+y.options[a])):null};Jt.propTypes=F.LineItemOption.propTypes,Jt.displayName=jt;var zt=F.LineItemOptions.defaultProps,$t=F.LineItemOptions.displayName,er=function(e){var a=e.skuOptionId,n=e.title,i=e.children,l=e.showName,o=void 0===l||l,u=c(e,["skuOptionId","title","children","showName"]),d=t.useContext(ct).lineItem,p=(s.isEmpty(d)?[]:d.lineItemOptions().toArray()).filter((function(e){return e.skuOption().id===a})).map((function(e,a){return r.createElement(t.Fragment,{key:a},o?r.createElement("span",u,n||e.name):null,r.createElement(Qt.Provider,{value:{lineItemOption:e}},i))}));return r.createElement(t.Fragment,null,p)};er.propTypes=F.LineItemOptions.propTypes,er.defaultProps=zt,er.displayName=$t;var tr=F.LineItemQuantity.defaultProps,rr=F.LineItemQuantity.displayName,ar=function(e){for(var a=e.max,n=void 0===a?50:a,i=e.readonly,s=void 0!==i&&i,l=c(e,["max","readonly"]),o=t.useContext(ct).lineItem,u=t.useContext(pt).updateLineItem,d=[],v=1;v<=n;v++)d.push(r.createElement("option",{key:v,value:""+v},v));var f=function(e){var t=Number(e.target.value);u&&u(o.id,t)},y=o.quantity,h=p({handleChange:f,quantity:y},e);return e.children?r.createElement(m,h,e.children):s?r.createElement("span",l,y):r.createElement("select",p({value:y,onChange:f},l),d)};ar.propTypes=F.LineItemQuantity.propTypes,ar.defaultProps=tr,ar.displayName=rr;var nr=F.LineItemRemoveLink.defaultProps,ir=F.LineItemRemoveLink.displayName,sr=function(e){var a=e.label,n=void 0===a?"Remove":a,i=t.useContext(ct).lineItem,s=t.useContext(pt).deleteLineItem,l=function(e){e.preventDefault(),s&&s(i.id)},o=p({handleRemove:l},e);return e.children?r.createElement(m,o,e.children):r.createElement("a",p({},e,{href:"#",onClick:l}),n)};sr.propTypes=F.LineItemRemoveLink.propTypes,sr.defaultProps=nr,sr.displayName=ir;var lr=function(){var e=d(f.mark((function e(t){var r,a,n,l,o,u,d,p,c,m;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.config,a=t.lineItemId,n=t.quantity,l=t.getOrder,o=t.orderId,u=t.dispatch,d=t.errors,e.prev=1,e.next=4,i.LineItem.withCredentials(r).find(a);case 4:return p=e.sent,e.next=7,p.withCredentials(r).update({quantity:n});case 7:if((c=e.sent).errors().empty()){e.next=10;break}throw c;case 10:if(e.t0=l,!e.t0){e.next=14;break}return e.next=14,l(o);case 14:s.isEmpty(d)||u({type:"setErrors",payload:{errors:[]}}),e.next=21;break;case 17:e.prev=17,e.t1=e.catch(1),m=C(e.t1,"lineItem"),u({type:"setErrors",payload:{errors:m}});case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),or=function(){var e=d(f.mark((function e(t){var r,a,n,l,o,u,d,p,c;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.config,a=t.lineItemId,n=t.getOrder,l=t.orderId,o=t.dispatch,u=t.errors,e.prev=1,e.next=4,i.LineItem.withCredentials(r).find(a);case 4:return d=e.sent,e.next=7,d.withCredentials(r).destroy();case 7:if((p=e.sent).errors().empty()){e.next=10;break}throw p;case 10:if(e.t0=n,!e.t0){e.next=14;break}return e.next=14,n(l);case 14:s.isEmpty(u)||o({type:"setErrors",payload:{errors:[]}}),e.next=21;break;case 17:e.prev=17,e.t1=e.catch(1),c=C(e.t1,"lineItem"),o({type:"setErrors",payload:{errors:c}});case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),ur={loading:!1,lineItems:[],errors:[]},dr=["setLineItems","setErrors","setLoading"],pr=function(e,t){return y(e,t,dr)},cr=F.LineItemsContainer.defaultProps,mr=F.LineItemsContainer.displayName,vr=function(e){var a=e.children,n=e.filters,i=void 0===n?{}:n,l=e.loader,o=void 0===l?"Loading...":l,u=t.useContext(N),c=u.order,m=u.getOrder,v=u.orderId,y=t.useContext(Ne),h=t.useReducer(pr,ur),b=h[0],g=h[1];t.useEffect((function(){return s.isEmpty(c)||c&&function(e){var t=e.order,r=e.dispatch,a=e.config,n=e.filters,i=[];t&&t.withCredentials(a).lineItems().where(n).includes("lineItemOptions.skuOption").all().then(function(){var e=d(f.mark((function e(t){var n,s,l,o,u;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r({type:"setLoading",payload:{loading:!1}}),n=t.toArray(),i=[].concat(i,n),r({type:"setLineItems",payload:{lineItems:i}}),s=t,l=t.pageCount(),!s.hasNextPage()||!l){e.next=18;break}o=1;case 8:if(!(o<l)){e.next=18;break}return e.next=11,s.withCredentials(a).nextPage();case 11:u=(s=e.sent).toArray(),i=[].concat(i,u),r({type:"setLineItems",payload:{lineItems:i}});case 15:o++,e.next=8;break;case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){var t=C(e,"lineItem");r({type:"setErrors",payload:{errors:t}})}))}({order:c,dispatch:g,config:y,filters:i}),function(){s.isEmpty(c)&&g({type:"setLineItems",payload:{lineItems:[]}})}}),[c]);var A=p({},b,{loader:o,updateLineItem:function(e,t){return void 0===t&&(t=1),lr({lineItemId:e,quantity:t,dispatch:g,config:y,getOrder:m,orderId:v,errors:b.errors})},deleteLineItem:function(e){return or({lineItemId:e,dispatch:g,config:y,getOrder:m,orderId:v,errors:b.errors})}});return r.createElement(pt.Provider,{value:A},b.loading?o:a)};vr.propTypes=F.LineItemsContainer.propTypes,vr.defaultProps=cr,vr.displayName=mr;var fr=F.LineItemsCount.displayName,yr=function(e){var a=e.children,n=c(e,["children"]),i=t.useContext(pt).lineItems,l=t.useState(0),o=l[0],u=l[1];t.useEffect((function(){if(!s.isEmpty(i)){var e=function(e,t){void 0===t&&(t=0);var r=["skus","gift_cards"];return e.filter((function(e){return r.includes(e.itemType)})).map((function(e){t+=e.quantity})),t}(i||[]);u(e)}return function(){u(0)}}),[i]);var d=p({quantity:o},n);return a?r.createElement(m,d,a):r.createElement("span",n,o)};yr.propTypes=F.LineItemsCount.propTypes,yr.displayName=fr;var hr=F.MetadataInput.displayName,br=function(e){return r.createElement(Te,p({"data-metadata":!0},e))};br.propTypes=F.MetadataInput.propTypes,br.displayName=hr;var Cr=function(e){return localStorage.getItem(e)},gr=function(e,t){localStorage.setItem(e,t)},Ar=function(e){localStorage.removeItem(e)},Ir=t.createContext({persistKey:"",clearWhenPlaced:!0,getLocalOrder:Cr,setLocalOrder:gr,deleteLocalOrder:Ar}),Tr=F.OrderContainer.defaultProps,Er=F.OrderContainer.displayName,kr=function(e){var a=e.orderId,n=e.children,i=e.metadata,s=e.attributes,l=t.useReducer(k,E),o=l[0],u=l[1],c=t.useContext(Ne),m=t.useContext(Ir),v=m.persistKey,y=m.clearWhenPlaced,h=m.getLocalOrder,b=m.setLocalOrder,g=m.deleteLocalOrder;t.useEffect((function(){if(c.accessToken){var e=v?h(v):a;e&&(u({type:"setOrderId",payload:{orderId:e}}),o.order||I({id:e,dispatch:u,config:c,persistKey:v,clearWhenPlaced:y,deleteLocalOrder:g}))}return function(){return function(e){e({type:"setOrderId",payload:{orderId:""}}),e({type:"setOrder",payload:{order:void 0}})}(u)}}),[c.accessToken]);var S,x=p({},o,{getOrder:function(e){return I({id:e,dispatch:u,config:c})},setOrderErrors:function(e){return(0,(t={dispatch:u,collection:e}).dispatch)({type:"setErrors",payload:{errors:C(t.collection,"order")}}),{success:!1};var t},createOrder:(S=d(f.mark((function e(){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({persistKey:v,dispatch:u,config:c,state:o,orderMetadata:i,orderAttributes:s});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return S.apply(this,arguments)}),addToCart:function(e){return T(p({},e,{persistKey:v,dispatch:u,state:o,config:c,errors:o.errors,orderMetadata:i||{},orderAttributes:s,setLocalOrder:b}))},saveAddressToCustomerBook:function(e,t){var r,a;(0,(r={type:e,value:t,dispatch:u}).dispatch)({type:"setSaveAddressToCustomerBook",payload:(a={},a["save"+r.type+"ToCustomerBook"]=r.value,a)})}});return r.createElement(N.Provider,{value:x},n)};kr.propTypes=F.OrderContainer.propTypes,kr.defaultProps=Tr,kr.displayName=Er;var Nr=F.OrderStorage.displayName,Sr=function(e){var t=e.children,a=e.clearWhenPlaced,n=void 0===a||a,i=c(e,["children","clearWhenPlaced"]);return r.createElement(Ir.Provider,{value:p({},i,{setLocalOrder:gr,getLocalOrder:Cr,deleteLocalOrder:Ar,clearWhenPlaced:n})},t)};Sr.propTypes=F.OrderStorage.propTypes,Sr.displayName=Nr;var xr=function(e){return r.createElement(t.Fragment,null,r.createElement("span",{className:e.className},e.formattedAmount),e.showCompare&&r.createElement("span",{className:e.compareClassName||""},e.formattedCompare))};xr.propTypes={formattedAmount:a.string,formattedCompare:a.string},xr.defaultProps={formattedAmount:"",formattedCompare:""};var Lr=function(e){var t={};return s.isArray(e)?e.map((function(e){s.has(t,e.skuCode)?t[e.skuCode].push(e):t[e.skuCode]=[e]})):s.forEach(e,(function(e){var r,a=null==(r=e.prices())?void 0:r.toArray();t[e.code]=a})),t},Pr={loading:!0,prices:{},skuCodes:[],errors:[]},Rr=["setLoading","setPrices","setSkuCodes","setErrors"],Or=function(e,t){return y(e,t,Rr)},Mr=t.createContext(Pr),wr=F.Price.defaultProps,Dr=F.Price.displayName,Br=function(e){var a=e.children,n=e.skuCode,i=void 0===n?"":n,l=t.useContext(Mr),o=l.prices,u=l.skuCode,d=l.loading,c=l.skuCodes,v=l.setSkuCodes,f=l.loader,y=t.useState([]),h=y[0],b=y[1],C=u||i;t.useEffect((function(){return!s.isEmpty(o)&&s.has(o,""+C)?b(o[C]):C&&-1===s.indexOf(c,C)&&(c.push(C),v&&v(c)),function(){b([])}}),[o,C]);var g=p({loading:d,loader:f},e),A=s.isEmpty(o)||s.isEmpty(h)?null:function(e,t){return s.isEmpty(e)?r.createElement(xr,t):e.map((function(e,a){return r.createElement(xr,p({key:a},t,{showCompare:void 0===t.showCompare&&e.compareAtAmountCents>e.amountCents||t.showCompare,formattedAmount:e.formattedAmount,formattedCompare:e.formattedCompareAtAmount}))}))}(h,e);return a?r.createElement(m,g,a):r.createElement(t.Fragment,null,d||s.isEmpty(A)?f:A)};Br.propTypes=F.Price.propTypes,Br.defaultProps=wr,Br.displayName=Dr;var _r=F.PricesContainer.defaultProps,Gr=F.PricesContainer.displayName,Fr=function(e){var a=e.children,n=e.skuCode,l=void 0===n?"":n,o=e.loader,u=void 0===o?"Loading...":o,c=e.perPage,m=void 0===c?10:c,v=e.filters,y=void 0===v?{}:v,h=t.useReducer(Or,Pr),b=h[0],g=h[1],A=t.useContext(Ne),I=t.useContext(x),T=I.setPrices,E=I.prices,k=I.items,N=I.item,S=I.skuCode;-1===s.indexOf(b.skuCodes,l)&&l&&b.skuCodes.push(l);var P=L(N)||l||S||"";t.useEffect((function(){if(N&&s.has(E,P)&&g({type:"setPrices",payload:{prices:E}}),!s.isEmpty(k)&&s.isEmpty(N)){var e=Lr(k);g({type:"setPrices",payload:{prices:e}})}return(A.accessToken&&s.isEmpty(N)||A.accessToken&&!s.has(E,P))&&(b.skuCodes.length>0||l)&&function(e,t){var r=t.config,a=t.dispatch,n=t.setPrices,s=t.prices,l=t.perPage,o=t.filters,u={};i.Price.withCredentials(r).where(p({skuCodeIn:e.join(",")},o)).perPage(l).all().then(function(){var e=d(f.mark((function e(t){var i,l,o,d,c;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Lr(t.toArray()),u=p({},u,s,i),n&&n(u),a({type:"setPrices",payload:{prices:u}}),a({type:"setLoading",payload:{loading:!1}}),l=t.getMetaInfo(),!(o=t).hasNextPage()||!l.pageCount){e.next=20;break}d=1;case 9:if(!(d<l.pageCount)){e.next=20;break}return e.next=12,o.withCredentials(r).nextPage();case 12:c=Lr((o=e.sent).toArray()),u=p({},u,c),n&&n(u),a({type:"setPrices",payload:{prices:u}});case 17:d++,e.next=9;break;case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){var t=C(e,"price");a({type:"setErrors",payload:{errors:t}})}))}(P&&[P]||b.skuCodes,{config:A,dispatch:g,setPrices:T,prices:E,perPage:m,filters:y}),function(){s.isEmpty(N)&&function(e){e({type:"setPrices",payload:{prices:{}}}),e({type:"setLoading",payload:{loading:!1}})}(g)}}),[A.accessToken,N,P]);var R=p({},b,{skuCode:P,loader:u,setSkuCodes:function(e){g({type:"setSkuCodes",payload:{skuCodes:e}})}});return r.createElement(Mr.Provider,{value:R},a)};Fr.propTypes=F.PricesContainer.propTypes,Fr.defaultProps=_r,Fr.displayName=Gr;var qr=F.QuantitySelector.defaultProps,Kr=F.QuantitySelector.displayName,Vr=function(e){var a,n,i,l=e.skuCode,o=e.skuListId,u=e.children,d=e.min,v=void 0===d?1:d,f=e.max,y=c(e,["skuCode","skuListId","children","min","max"]),h=t.useContext(x),b=h.item,C=h.setQuantity,g=h.items,A=h.quantity,I=h.prices,T=h.skuCode,E=t.useContext(H),k=E.skuLists,N=E.listIds,S=t.useState(v),P=S[0],R=S[1],O=t.useState(!!y.disabled),M=O[0],w=O[1],D=!s.isEmpty(g)&&l?null==(a=g[l])?void 0:a.code:l||L(b)||T,B=s.isEmpty(b)?50:null==(n=b[D])||null==(i=n.inventory)?void 0:i.quantity,_=f||B;t.useEffect((function(){if(R(v),I[D]&&D||w(!0),o&&w(!1),D){var e,t=Number(v);C&&C(p({},A,((e={})[""+D]=t,e))),!s.isEmpty(I)&&s.has(I,D)&&w(!1)}return function(){R(v)}}),[b,N,I]);var G=function(e){var t,r=Number(e.target.value),a=Number(r)>=Number(v)&&Number(r)<=Number(_);if(R(r),!s.isEmpty(k)&&o&&a)C&&C(p({},A,((t={})[""+o]=Number(r),t)));else if(D&&a){var n;C&&C(p({},A,((n={})[""+D]=Number(r),n)))}},F=function(e){var t=e.target.value;if(!(Number(t)>=Number(v)&&Number(t)<=Number(_))){var r,a,n=Number(t)<Number(v)?v:_;R(n),!s.isEmpty(k)&&o?C&&C(p({},A,((r={})[""+o]=Number(n),r))):C&&C(p({},A,((a={})[""+D]=Number(n),a)))}},q=p({min:v,max:_,disabled:M,handleChange:G,handleBlur:F,value:P},e);return u?r.createElement(m,q,u):r.createElement("input",p({type:"number",max:_,min:v,value:P||"",disabled:M,onChange:G,onBlur:F},y))};Vr.propTypes=F.QuantitySelector.propTypes,Vr.defaultProps=qr,Vr.displayName=Kr;var Ur=F.SaveAddressesButton.defaultProps,Hr=F.SaveAddressesButton.displayName,Wr=function(e){var a=e.children,n=e.label,i=void 0===n?"Continue to delivery":n,l=e.resource,o=e.disabled,u=void 0!==o&&o,v=e.onClick,y=c(e,["children","label","resource","disabled","onClick"]),h=t.useContext(ce),b=h.errors,C=h.billingAddress,g=h.shipToDifferentAddress,A=h.shippingAddress,I=h.saveAddresses,T=h.billingAddressId,E=h.shippingAddressId,k=t.useContext(N).order,S=t.useContext(ae).addresses,x=function(e){var t=e.billingAddress,r=e.billingAddressId,a=e.errors,n=!s.isEmpty(a)||s.isEmpty(t);return s.isEmpty(a)&&!s.isEmpty(t)&&(n=!(!t||!Ct(t))),n&&!s.isEmpty(r)&&s.isEmpty(t)&&(n=!1),n}({billingAddress:C,errors:b,billingAddressId:T}),L=function(e){var t=e.shippingAddress,r=e.shippingAddressId,a=!(e.billingDisable||!e.shipToDifferentAddress);return a&&s.isEmpty(e.errors)&&!s.isEmpty(t)&&(a=!(!t||!Ct(t))),a&&!s.isEmpty(r)&&s.isEmpty(t)&&(a=!1),a}({billingDisable:x,errors:b,shipToDifferentAddress:g,shippingAddress:A,shippingAddressId:E}),P=function(e){var t=e.addresses,r=e.billingAddress,a=e.billingAddressId,n=e.countryCodeLock,i=e.shipToDifferentAddress,l=e.shippingAddress,o=e.shippingAddressId;if(n&&!s.isEmpty(t)&&a&&!i){var u=null==t?void 0:t.find((function(e){return(e.id===a||e.reference===a)&&e.countryCode!==n}));if(!s.isEmpty(u))return!0}if(n&&!s.isEmpty(r)&&!i)return(null==r?void 0:r.country_code)!==n;if(n&&!s.isEmpty(l)&&i)return(null==l?void 0:l.country_code)!==n;if(n&&!s.isEmpty(t)&&o&&i){var d=null==t?void 0:t.find((function(e){return(e.id===o||e.reference===o)&&e.countryCode!==n}));if(!s.isEmpty(d))return!0}return!1}({countryCodeLock:null==k?void 0:k.shippingCountryCodeLock,addresses:S,shipToDifferentAddress:g,billingAddressId:T,billingAddress:C,shippingAddress:A,shippingAddressId:E}),R=u||x||L||P,O=function(){var e=d(f.mark((function e(){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.isEmpty(b)||R){e.next=4;break}return e.next=3,I();case 3:v&&v();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=p({},y,{label:i,resource:l,handleClick:O,disabled:R});return a?r.createElement(m,M,a):r.createElement("button",p({type:"button",disabled:R,onClick:O},y),i)};Wr.propTypes=F.SaveAddressesButton.propTypes,Wr.defaultProps=Ur,Wr.displayName=Hr;var Yr=F.SaveCustomerButton.defaultProps,Zr=F.SaveCustomerButton.displayName,Xr=function(e){var a=e.children,n=e.label,i=void 0===n?"Save":n,l=e.resource,o=e.disabled,u=e.onClick,v=c(e,["children","label","resource","disabled","onClick"]),y=t.useContext(ae),h=y.errors,b=y.saveCustomerUser,C=y.customerEmail,g=o||!s.isEmpty(h)||s.isEmpty(C),A=function(){var e=d(f.mark((function e(){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.isEmpty(h)||g){e.next=4;break}return e.next=3,b(C);case 3:u&&u();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=p({},v,{label:i,resource:l,handleClick:A,disabled:g});return a?r.createElement(m,I,a):r.createElement("button",p({type:"button",disabled:g,onClick:A},v),i)};Xr.propTypes=F.SaveCustomerButton.propTypes,Xr.defaultProps=Yr,Xr.displayName=Zr;var Qr={_shippingAddressCloneId:""},jr=function(){var e=d(f.mark((function e(t,r){var a;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null==r||!r.order){e.next=10;break}if(!r.customerAddressId){e.next=9;break}return e.next=5,n.Address.withCredentials(r.config).find(t);case 5:if((a=e.sent).reference===r.customerAddressId){e.next=9;break}return e.next=9,a.withCredentials(r.config).update({reference:r.customerAddressId});case 9:r.dispatch({type:"setShippingAddress",payload:{_shippingAddressCloneId:t}});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,r){return e.apply(this,arguments)}}(),Jr=["setShippingAddress","setShippingCustomerAddressId"],zr=function(e,t){return y(e,t,Jr)},$r=function(e){var a=e.children,n=t.useReducer(zr,Qr),i=n[0],s=n[1],l=t.useContext(Ne),o=t.useContext(N),u=o.order,c=o.getOrder,m=t.useContext(ce).setCloneAddress;t.useEffect((function(){if(u){var e,t=(null==(e=u.shippingAddress())?void 0:e.reference)||"";(0,(r={customerAddressId:t,dispatch:s}).dispatch)({type:"setShippingCustomerAddressId",payload:{shippingCustomerAddressId:r.customerAddressId}}),m(t,"shippingAddress")}var r}),[u]);var v,y=p({},i,{setShippingAddress:(v=d(f.mark((function e(t,r){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jr(t,{config:l,dispatch:s,order:u,getOrder:c,customerAddressId:null==r?void 0:r.customerAddressId});case 2:m(t,"shippingAddress");case 3:case"end":return e.stop()}}),e)}))),function(e,t){return v.apply(this,arguments)})});return r.createElement(ie.Provider,{value:y},a)};$r.propTypes=F.ShippingAddressContainer.propTypes;var ea=function(e){var a=e.children,n=e.autoComplete,i=void 0===n?"on":n,l=e.reset,u=void 0!==l&&l,d=c(e,["children","autoComplete","reset"]),m=o(),v=m.validation,f=m.values,y=m.errors,h=m.reset,b=t.useContext(ce),C=b.setAddressErrors,g=b.setAddress,A=b.shipToDifferentAddress,I=t.useContext(N).saveAddressToCustomerBook,T=t.useRef(null);return t.useEffect((function(){if(s.isEmpty(y)){if(!s.isEmpty(f)&&A){for(var e in C([]),f){var t=f[e];null!=t&&t.value&&(f[e.replace("shipping_address_","")]=t.value,delete f[e]),"checkbox"===(null==t?void 0:t.type)&&(delete f[e],I("ShippingAddress",t.checked))}g({values:f,resource:"shippingAddress"})}}else{var r=[];for(var a in y){var n=y[a];r.push({code:n.code,message:n.message,resource:"shippingAddress",field:a})}!s.isEmpty(r)&&A&&C(r)}var i;!u||s.isEmpty(f)&&s.isEmpty(y)||(I&&I("ShippingAddress",!1),T&&(null==(i=T.current)||i.reset(),h({target:T.current}),C([]),g({values:{},resource:"shippingAddress"})))}),[f,y,A,u]),r.createElement(he.Provider,{value:{validation:v,setValue:function(e,t){var r,a=((r={})[e.replace("shipping_address_","")]=t,r);g({values:p({},f,a),resource:"shippingAddress"})}}},r.createElement("form",p({ref:T,autoComplete:i},d),a))};ea.propTypes=F.ShippingAddressForm.propTypes;var ta=F.ShippingAmount.displayName,ra=function(e){return r.createElement(et,p({base:"amount",type:"shipping"},e))};ra.propTypes=F.ShippingAmount.propTypes,ra.displayName=ta;var aa=F.SkuList.displayName,na=function(e){var a=e.id,n=e.children,i=t.useContext(H).listIds;return t.useEffect((function(){i.includes(a)||i.push(a)}),[]),r.createElement(t.Fragment,null,n)};na.propTypes=F.SkuList.propTypes,na.displayName=aa;var ia=F.SkuListsContainer.displayName,sa=function(e){var a=e.children,n=t.useReducer(U,K),i=n[0],s=n[1],l=t.useContext(Ne);return t.useEffect((function(){i.listIds.length>0&&l.accessToken&&V({listIds:i.listIds,dispatch:s,config:l,state:i})}),[l.accessToken]),r.createElement(H.Provider,{value:i},a)};sa.propTypes=F.SkuListsContainer.propTypes,sa.displayName=ia;var la=t.createContext({skuCode:""}),oa=function(){var e=d(f.mark((function e(t){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,t.dispatch)({type:"setSkuOptions",payload:{skuOptions:t.skuOptions}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ua=["setSkuOptions","setErrors"],da={skuCode:"",skuOptions:[]},pa=function(e,t){return y(e,t,ua)},ca=t.createContext(da),ma=F.SkuOption.displayName,va=function(e){var a=e.id,n=t.useContext(ca),i=n.skuOptions,s=n.skuCode,l=i&&i.filter((function(e){return e.id===a})).map((function(t,a){return r.createElement(la.Provider,{key:a,value:{skuOption:t,skuCode:s}},e.children)}));return r.createElement(t.Fragment,null,l)};va.propTypes=F.SkuOption.propTypes,va.displayName=ma;var fa=F.SkuOptionInput.displayName,ya=function(e){var a=e.name,n=t.useContext(x),i=n.option,l=n.setOption,o=t.useContext(la),u=o.skuOption,d=o.skuCode;return r.createElement(Te,p({onChange:function(e){var t,r,n,o=e.target.value,c=s.has(i,d+"."+(null==u?void 0:u.id))?i[d][""+(null==u?void 0:u.id)].options:{},m=((n={})[d]=p({},i[d],((r={})[""+(null==u?void 0:u.id)]={skuOptionId:null==u?void 0:u.id,options:p({},c,(t={},t[a]=o,t))},r)),n);l&&l(m)}},e))};ya.propTypes=F.SkuOptionInput.propTypes,ya.displayName=fa;var ha=F.SkuOptionsContainer.displayName,ba=function(e){var a,n=e.skuCode,i=e.children,l=t.useReducer(pa,da),o=l[0],u=l[1],d=t.useContext(Ne),c=t.useContext(x),m=c.item,v=c.items,f=!s.isEmpty(v)&&n?null==(a=v[n])?void 0:a.code:n||L(m),y=p({},o,{skuCode:f});return t.useEffect((function(){var e;return f&&m[f].skuOptions&&oa({skuOptions:null==(e=m[f].skuOptions())?void 0:e.toArray(),dispatch:u}),function(){s.isEmpty(f)&&u({type:"setSkuOptions",payload:{skuOptions:[]}})}}),[d,f]),r.createElement(ca.Provider,{value:y},i)};ba.propTypes=F.SkuOptionsContainer.propTypes,ba.displayName=ha;var Ca=F.SubTotalAmount.defaultProps,ga=F.SubTotalAmount.displayName,Aa=function(e){return r.createElement(et,p({base:"amount",type:"subtotal"},e))};Aa.propTypes=F.SubTotalAmount.propTypes,Aa.defaultProps=Ca,Aa.displayName=ga;var Ia=F.SubmitButton.defaultProps,Ta=F.SubmitButton.displayName,Ea=function(e){var t=e.children,a=e.label,n=void 0===a?"Submit":a,i=c(e,["children","label"]),s=p({},i,{label:n});return t?r.createElement(m,s,t):r.createElement("button",p({type:"submit"},i),n)};Ea.propTypes=F.SubmitButton.propTypes,Ea.defaultProps=Ia,Ea.displayName=Ta;var ka=F.TaxesAmount.defaultProps,Na=F.TaxesAmount.displayName,Sa=function(e){return r.createElement(et,p({base:"amount",type:"totalTax"},e))};Sa.propTypes=F.TaxesAmount.propTypes,Sa.defaultProps=ka,Sa.displayName=Na;var xa=F.TotalAmount.defaultProps,La=F.TotalAmount.displayName,Pa=function(e){return r.createElement(et,p({base:"totalAmount",type:"withTaxes"},e))};Pa.propTypes=F.TotalAmount.propTypes,Pa.defaultProps=xa,Pa.displayName=La;var Ra=function(e){var a=e.id,n=e.variants,i=e.type,l=e.placeholder,o=e.options,u=e.skuCode,d=e.handleChange,m=c(e,["id","variants","type","placeholder","options","skuCode","handleChange"]),v=s.keys(n).map((function(e,s){var l=u===e;return"select"===i?r.createElement("option",{key:n[e].id,"data-sku-id":n[e].id,value:n[e].code},o.length>0?o[s].label:n[e].name):r.createElement(t.Fragment,{key:n[e].id},r.createElement("input",p({id:a&&a+"-"+s,defaultChecked:l,type:"radio",value:n[e].code,onChange:function(t){return d&&d(t.target.value,n[e].id)}},m)),o.length>0?o[s].label:n[e].name)}));return"select"===i?r.createElement("select",p({id:a,onChange:function(e){d&&d(e.target.value,e.target[e.target.selectedIndex].dataset.skuId)},value:u||""},m),r.createElement("option",{disabled:!!u},l),v):r.createElement(t.Fragment,null,v)};Ra.propTypes={variants:a.any.isRequired,onChange:a.func,options:a.arrayOf(a.shape({label:a.string.isRequired,code:a.string.isRequired,lineItem:a.shape({name:a.string.isRequired,imageUrl:a.string})}).isRequired).isRequired,name:a.string,children:a.func,type:a.oneOf(["select","radio"]),loader:a.element,placeholder:a.string,skuCode:a.string};var Oa=function(e){var t=e.id,r=e.code,a=e.setItem,n=e.dispatch;t&&i.Sku.withCredentials(e.config).includes("skuOptions").find(t).then((function(e){var t;a&&a(((t={})[""+r]=e,t))})).catch((function(e){var t=C(e,"variant");n({type:"setErrors",payload:{errors:t}})}))},Ma={loading:!1,variants:{},skuCodes:[],skuCode:"",errors:[],currentSkuId:"",currentSkuInventory:{available:!1,quantity:0,levels:[]},currentQuantity:1,currentPrices:[]},wa=["setLoading","setVariants","setSkuCodes","setSkuCode","setCurrentSkuId","setCurrentSkuInventory","setCurrentPrices","setErrors"],Da=function(e,t){return y(e,t,wa)},Ba=t.createContext(Ma),_a=F.VariantSelector.defaultProps,Ga=F.VariantSelector.displayName,Fa=function(e){var a=e.children,n=e.type,i=e.placeholder,s=e.skuCode,l=e.name,o=e.options,u=c(e,["children","type","placeholder","skuCode","name","options"]),d=t.useContext(Ba),v=d.setSkuCode,f=d.skuCode,y=d.loading,h=d.variants,b=d.setSkuCodes;t.useEffect((function(){return b&&b(o),function(){b&&b([])}}),[o]);var C=f||s||"",g=function(){return y?r.createElement(t.Fragment,null,e.loader||"Loading..."):r.createElement(Ra,p({variants:h,type:n,placeholder:i,skuCode:C,options:o,handleChange:v,name:l},u))},A=p({variants:h,loading:y,handleSelect:v,skuCode:C},e);return a?r.createElement(m,A,a):r.createElement(t.Fragment,null,r.createElement(g,null))};Fa.propTypes=F.VariantSelector.propTypes,Fa.defaultProps=_a,Fa.displayName=Ga;var qa=F.VariantsContainer.defaultProps,Ka=F.VariantsContainer.displayName,Va=function(e){var a=e.children,n=e.skuCode,l=void 0===n?"":n,o=e.filters,u=void 0===o?{}:o,d=t.useContext(Ne),c=t.useContext(x),m=c.setItem,v=c.setItems,f=c.items,y=c.item,h=c.setCustomLineItems,b=c.skuCode,g=t.useReducer(Da,Ma),A=g[0],I=g[1],T=L(y)||l||A.skuCode||b||"";t.useEffect((function(){if(!s.isEmpty(f)&&!s.isEmpty(A.variants)&&!s.isEqual(f,A.variants)){var e=p({},f,A.variants);v&&v(e)}return A.skuCodes.length>=1&&d.accessToken&&(I({type:"setLoading",payload:{loading:!0}}),function(e){var t=e.config,r=e.state,a=e.skuCode,n=e.dispatch,s=e.setItem,l=e.filters;i.Sku.withCredentials(t).where(p({codeIn:r.skuCodes.join(",")},l)).all().then((function(e){var r,i,l=(r=e.toArray(),i={},r.map((function(e){i[e.code]=e})),i);a&&Oa({code:l[a].code,id:l[a].id,config:t,dispatch:n,setItem:s}),n({type:"setVariants",payload:{variants:l}}),n({type:"setLoading",payload:{loading:!1}})})).catch((function(e){var t=C(e,"variant");n({type:"setErrors",payload:{errors:t}})}))}({config:d,state:A,dispatch:I,setItem:m,skuCode:T,filters:u})),function(){return function(e){e({type:"setSkuCode",payload:{skuCode:""}}),e({type:"setVariants",payload:{variants:{}}}),e({type:"setLoading",payload:{loading:!1}})}(I)}}),[d]);var E=p({},A,{skuCode:T,setSkuCode:function(e,t,r){var a;void 0===r&&(r={}),s.isEmpty(r)||h&&h(((a={})[e]=r,a)),Oa({code:e,id:t,config:d,setItem:m,dispatch:I})},setSkuCodes:function(e){return function(e){var t=e.dispatch,r=e.setCustomLineItems,a={},n=e.skuCodes.map((function(e){return s.has(e,"lineItem")&&(a[e.code]=e.lineItem),e.code}));s.isEmpty(a)||r&&r(a),t({type:"setSkuCodes",payload:{skuCodes:n}})}({skuCodes:e,dispatch:I,setCustomLineItems:h})}});return r.createElement(Ba.Provider,{value:E},a)};Va.propTypes=F.VariantsContainer.propTypes,Va.defaultProps=qa,Va.displayName=Ka;var Ua={errors:[]},Ha=function(){var e=d(f.mark((function e(t){var r,a,n,i,s;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.order,a=t.dispatch,n=t.config,e.prev=1,e.next=4,null==(i=r.withCredentials(n).shipments())?void 0:i.includes("availableShippingMethods","availableShippingMethods.deliveryLeadTimeForShipment","shipmentLineItems","shipmentLineItems.lineItem","stockTransfers","shippingMethod").load();case 4:s=e.sent,console.log("shipments",s),a({type:"setShipments",payload:{shipments:null==s?void 0:s.toArray()}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),Wa=function(){var e=d(f.mark((function e(t){var r,a,i,s,l,o,u;return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.config,a=t.shipmentId,i=t.shippingMethodId,s=t.getOrder,l=t.order,e.prev=1,!i){e.next=10;break}return e.next=5,n.Shipment.withCredentials(r).includes("availableShippingMethods","availableShippingMethods.deliveryLeadTimeForShipment","shipmentLineItems","shipmentLineItems.lineItem","stockTransfers","shippingMethod").find(a);case 5:return o=e.sent,u=n.ShippingMethod.build({id:i}),e.next=9,o.withCredentials(r).update({shippingMethod:u});case 9:s&&l&&s(l.id);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),Ya=["setErrors","setShipments","setShippingMethod"],Za=function(e,t){return y(e,t,Ya)},Xa={setShipmentErrors:function(e,t){t&&t({type:"setErrors",payload:{errors:e}})},setShippingMethod:function(){var e=d(f.mark((function e(){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},Qa=t.createContext(Xa),ja=F.ShipmentsContainer.displayName,Ja=function(e){var a=e.children,n=t.useReducer(Za,Ua),i=n[0],s=n[1],l=t.useContext(N),o=l.order,u=l.getOrder,c=t.useContext(Ne);t.useEffect((function(){o&&Ha({order:o,dispatch:s,config:c})}),[o]);var m,v=p({},i,{setShipmentErrors:function(e){return Xa.setShipmentErrors(e,s)},setShippingMethod:(m=d(f.mark((function e(t,r){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wa({shippingMethodId:r,shipmentId:t,config:c,getOrder:u,order:o});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return m.apply(this,arguments)})});return r.createElement(Qa.Provider,{value:v},a)};Ja.propTypes=F.ShipmentsContainer.propTypes,Ja.displayName=ja;var za=F.Shipment.displayName,$a=function(e){var a=e.children,n=t.useContext(Qa).shipments,i=n&&n.map((function(e,t){var n,i,s,l,o=null==(n=e.shipmentLineItems())?void 0:n.toArray(),u=null==o?void 0:o.map((function(e){return e.lineItem()})),d=null==(i=e.availableShippingMethods())?void 0:i.toArray(),p=null==(s=e.shippingMethod())?void 0:s.id,c=null==(l=e.stockTransfers())?void 0:l.toArray();return r.createElement(Ft.Provider,{key:t,value:{lineItems:u,shippingMethods:d,currentShippingMethodId:p,stockTransfers:c}},a)}));return r.createElement(t.Fragment,null,i)};$a.propTypes=F.Shipment.propTypes,$a.displayName=za;var en=t.createContext({shippingMethod:{},deliveryLeadTimeForShipment:{}}),tn=F.ShippingMethod.displayName,rn=function(e){var a=e.children,n=e.readonly,i=e.emptyText,l=void 0===i?"There are not any shipping method available":i,o=t.useContext(Ft),u=o.shippingMethods,d=o.currentShippingMethodId,p=t.useState([]),c=p[0],m=p[1];t.useEffect((function(){var e=u&&u.filter((function(e){return!n||e.id===d})).map((function(e,t){var n=e.deliveryLeadTimeForShipment();return r.createElement(en.Provider,{key:t,value:{shippingMethod:e,currentShippingMethodId:d,deliveryLeadTimeForShipment:n}},a)}));e&&m(e)}),[d]);var v=!s.isEmpty(c)&&c||l;return r.createElement(t.Fragment,null,v)};rn.propTypes=F.ShippingMethod.propTypes,rn.displayName=tn;var an=F.ShippingMethodName.displayName,nn=function(e){var a=t.useContext(en).shippingMethod.name,n=p({},e);return e.children?r.createElement(m,n,e.children):r.createElement("p",e,a)};nn.propTypes=F.ShippingMethodName.propTypes,nn.displayName=an;var sn=F.ShippingMethodRadioButton.displayName,ln=function(e){var a=e.onChange,n=c(e,["onChange"]),i=t.useContext(en),s=i.shippingMethod,l=i.currentShippingMethodId,o=t.useContext(Qa).setShippingMethod,u=s.shipmentId||"",v=s.id,y="shipment-"+u,h=s.id===l,b=function(){var e=d(f.mark((function e(){return f.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(u,v);case 2:a&&a(s);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=p({handleOnChange:b},e);return e.children?r.createElement(m,C,e.children):r.createElement("input",p({type:"radio",name:y,onChange:b,defaultChecked:h},n))};ln.propTypes=F.ShippingMethodRadioButton.propTypes,ln.displayName=sn;var on=F.ShippingMethodPrice.displayName,un=function(e){var a=e.format,n=void 0===a?"formatted":a,i=e.type,s=void 0===i?"amountForShipment":i,l=e.base,o=void 0===l?"price":l,u=e.labelFreeOver,d=void 0===u?"Free":u,v=c(e,["format","type","base","labelFreeOver"]),f=t.useContext(en).shippingMethod,y=t.useState(""),h=y[0],b=y[1],C=t.useState(0),g=C[0],A=C[1];t.useEffect((function(){var e=$e(o,s,n,f);b(e);var t=$e(o,s,"cents",f);return A(t),function(){b(""),A(0)}}),[f]);var I=p({price:h},v);return e.children?r.createElement(m,I,e.children):r.createElement("span",v,0===g?d:h)};un.propTypes=F.ShippingMethodPrice.propTypes,un.displayName=on;var dn=t.createContext({stockTransfer:{}}),pn=F.StockTransfer.displayName,cn=function(e){var a=e.children,n=t.useContext(ct).lineItem,i=t.useContext(Ft).stockTransfers,s=null==i?void 0:i.filter((function(e){return e.skuCode===n.skuCode})).map((function(e,t){return r.createElement(dn.Provider,{key:t,value:{stockTransfer:e}},a)}));return r.createElement(t.Fragment,null,s)};cn.propTypes=F.StockTransfer.propTypes,cn.displayName=pn;var mn=F.StockTransferField.displayName,vn=function(e){var a=e.type,n=t.useContext(dn).stockTransfer,i=n?n[a]:"",s=p({},e);return e.children?r.createElement(m,s,e.children):r.createElement("p",e,i)};vn.propTypes=F.StockTransferField.propTypes,vn.displayName=mn;var fn=F.DeliveryLeadTime.displayName,yn=function(e){var a=e.type,n=c(e,["type"]),i=t.useContext(en).deliveryLeadTimeForShipment,s=i&&i[a],l=p({text:s},n);return e.children?r.createElement(m,l,e.children):r.createElement("span",n,s)};yn.propTypes=F.DeliveryLeadTime.propTypes,yn.displayName=fn,exports.AddToCartButton=Q,exports.Address=me,exports.AddressCountrySelector=ge,exports.AddressField=Ie,exports.AddressInput=ke,exports.AddressesContainer=xe,exports.AvailabilityContainer=De,exports.AvailabilityTemplate=Ge,exports.BillingAddressContainer=Ue,exports.BillingAddressForm=He,exports.CheckoutLink=Ze,exports.CommerceLayer=Xe,exports.CustomerContainer=je,exports.CustomerInput=ze,exports.DeliveryLeadTime=yn,exports.DiscountAmount=at,exports.Errors=ft,exports.ExternalFunction=ht,exports.GiftCard=It,exports.GiftCardAmount=Et,exports.GiftCardContainer=Nt,exports.GiftCardCurrencySelector=Pt,exports.GiftCardInput=Ot,exports.ItemContainer=Gt,exports.LineItem=Kt,exports.LineItemAmount=Ht,exports.LineItemImage=Yt,exports.LineItemName=Xt,exports.LineItemOption=Jt,exports.LineItemOptions=er,exports.LineItemQuantity=ar,exports.LineItemRemoveLink=sr,exports.LineItemsContainer=vr,exports.LineItemsCount=yr,exports.MetadataInput=br,exports.OrderContainer=kr,exports.OrderStorage=Sr,exports.Price=Br,exports.PricesContainer=Fr,exports.QuantitySelector=Vr,exports.SaveAddressesButton=Wr,exports.SaveCustomerButton=Xr,exports.Shipment=$a,exports.ShipmentsContainer=Ja,exports.ShippingAddressContainer=$r,exports.ShippingAddressForm=ea,exports.ShippingAmount=ra,exports.ShippingMethod=rn,exports.ShippingMethodName=nn,exports.ShippingMethodPrice=un,exports.ShippingMethodRadioButton=ln,exports.SkuList=na,exports.SkuListsContainer=sa,exports.SkuOption=va,exports.SkuOptionInput=ya,exports.SkuOptionsContainer=ba,exports.StockTransfer=cn,exports.StockTransferField=vn,exports.SubTotalAmount=Aa,exports.SubmitButton=Ea,exports.TaxesAmount=Sa,exports.TotalAmount=Pa,exports.VariantSelector=Fa,exports.VariantsContainer=Va;
//# sourceMappingURL=react-components.cjs.production.min.js.map
