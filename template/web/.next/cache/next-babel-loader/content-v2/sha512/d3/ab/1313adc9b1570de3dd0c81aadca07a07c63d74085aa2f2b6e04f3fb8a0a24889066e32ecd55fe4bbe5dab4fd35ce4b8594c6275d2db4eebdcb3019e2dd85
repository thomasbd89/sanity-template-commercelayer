{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/bolajiayodeji/Tunnel/CL/sanity-commercelayer-starter/components/Taxonomies.tsx\";\nimport _ from 'lodash';\nimport React, { Fragment, useEffect, useState } from 'react';\nimport ProductsList from './ProductsList'; // import Link from 'next/link'\n\nconst Taxonomies = ({\n  taxonomies,\n  activeAlgolia,\n  algoliaStatus,\n  searchEngine\n}) => {\n  const {\n    0: on,\n    1: setOn\n  } = useState({\n    '0': 0\n  });\n  const {\n    0: currentProducts,\n    1: setCurrentProducts\n  } = useState([]);\n  useEffect(() => {\n    if (!_.isEmpty(taxonomies)) {\n      _.map(on, (v, k) => {\n        setCurrentProducts(taxonomies[k].taxons[v].products || []);\n      });\n    }\n  }, [on, taxonomies]);\n  const taxonomy = taxonomies === null || taxonomies === void 0 ? void 0 : taxonomies.map((t, k) => {\n    const taxonCard = t.taxons.map((taxon, i) => {\n      const {\n        name,\n        products,\n        label\n      } = taxon;\n      const pQuantity = (products === null || products === void 0 ? void 0 : products.length) || 0;\n      const initialName = label || name;\n      const checkedKey = {\n        [`${k}`]: i\n      };\n      const checked = on[`${k}`] === i;\n      const disabled = pQuantity === 0;\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${checked ? `bg-blue-50 border-blue-200 z-10` : 'border-gray-200'} ${disabled ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'} border rounded-md p-4 my-1`,\n          onClick: () => !disabled && setOn(checkedKey),\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            className: `${disabled ? 'cursor-not-allowed' : 'cursor-pointer'} flex items-center text-sm justify-between`,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ml-3 font-medium text-sm text-gray-900 flex-grow\",\n              children: initialName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `${checked ? 'bg-gray-900 text-gray-50' : 'bg-gray-100 text-gray-600'} ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium leading-5`,\n              children: pQuantity\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this)\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"my-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-gray-500 text-xs font-medium uppercase tracking-wide mb-4\",\n        children: (t === null || t === void 0 ? void 0 : t.label) || t.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n        children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n          className: \"sr-only\",\n          children: \"Taxon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \" bg-white rounded-md -space-y-px\",\n          children: taxonCard\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, k, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"px-3 lg:px-0 container mx-auto max-w-screen-lg flex flex-wrap sm:flex-nowrap\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-shrink md:flex-shrink-0 md:pr-4 w-full sm:w-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: `flex items-center mb-5 mt-${searchEngine ? 3 : 14}`,\n        children: !searchEngine ? null : /*#__PURE__*/_jsxDEV(Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            \"aria-pressed\": \"false\",\n            \"aria-labelledby\": \"toggleLabel\",\n            className: `${algoliaStatus ? 'bg-blue-500' : 'bg-gray-200'} relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500`,\n            onClick: activeAlgolia,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"sr-only\",\n              children: \"Enable algolia\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              \"aria-hidden\": \"true\",\n              className: `${algoliaStatus ? 'translate-x-5' : 'translate-x-0'} inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ml-3\",\n            id: \"toggleLabel\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"/algolia.svg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), taxonomy]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full mt-6\",\n      children: /*#__PURE__*/_jsxDEV(ProductsList, {\n        products: currentProducts\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n};\n\nexport default Taxonomies;","map":{"version":3,"sources":["/Users/bolajiayodeji/Tunnel/CL/sanity-commercelayer-starter/components/Taxonomies.tsx"],"names":["_","React","Fragment","useEffect","useState","ProductsList","Taxonomies","taxonomies","activeAlgolia","algoliaStatus","searchEngine","on","setOn","currentProducts","setCurrentProducts","isEmpty","map","v","k","taxons","products","taxonomy","t","taxonCard","taxon","i","name","label","pQuantity","length","initialName","checkedKey","checked","disabled"],"mappings":"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","sourcesContent":["import _ from 'lodash'\nimport React, { Fragment, useEffect, useState } from 'react'\nimport ProductsList from './ProductsList'\n// import Link from 'next/link'\n\ntype Props = {\n  taxonomies: {\n    name: string\n    label?: string\n    taxons: any[]\n  }[]\n  cms: string\n  activeAlgolia: () => void\n  algoliaStatus: boolean\n  searchEngine: boolean\n  lang?: string\n}\n\nconst Taxonomies = ({\n  taxonomies,\n  activeAlgolia,\n  algoliaStatus,\n  searchEngine,\n}: Props) => {\n  const [on, setOn] = useState<Record<string, number>>({ '0': 0 })\n  const [currentProducts, setCurrentProducts] = useState([])\n  useEffect(() => {\n    if (!_.isEmpty(taxonomies)) {\n      _.map(on, (v, k: number) => {\n        setCurrentProducts(taxonomies[k].taxons[v].products || [])\n      })\n    }\n  }, [on, taxonomies])\n  const taxonomy = taxonomies?.map((t, k) => {\n    const taxonCard = t.taxons.map((taxon, i) => {\n      const { name, products, label } = taxon\n      const pQuantity = products?.length || 0\n      const initialName = label || name\n      const checkedKey = { [`${k}`]: i }\n      const checked = on[`${k}`] === i\n      const disabled = pQuantity === 0\n      return (\n        <li key={i}>\n          {/* <!-- On: \"bg-indigo-50 border-indigo-200 z-10\", Off: \"border-gray-200\" --> */}\n          <div\n            className={`${\n              checked ? `bg-blue-50 border-blue-200 z-10` : 'border-gray-200'\n            } ${\n              disabled ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'\n            } border rounded-md p-4 my-1`}\n            onClick={() => !disabled && setOn(checkedKey)}\n          >\n            <label\n              className={`${\n                disabled ? 'cursor-not-allowed' : 'cursor-pointer'\n              } flex items-center text-sm justify-between`}\n            >\n              <span className=\"ml-3 font-medium text-sm text-gray-900 flex-grow\">\n                {initialName}\n              </span>\n              <span\n                className={`${\n                  checked\n                    ? 'bg-gray-900 text-gray-50'\n                    : 'bg-gray-100 text-gray-600'\n                } ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium leading-5`}\n              >\n                {pQuantity}\n              </span>\n            </label>\n          </div>\n        </li>\n      )\n    })\n    return (\n      <div className=\"my-4\" key={k}>\n        <h2 className=\"text-gray-500 text-xs font-medium uppercase tracking-wide mb-4\">\n          {t?.label || t.name}\n        </h2>\n        <fieldset>\n          <legend className=\"sr-only\">Taxon</legend>\n          <ul className=\" bg-white rounded-md -space-y-px\">{taxonCard}</ul>\n        </fieldset>\n      </div>\n    )\n  })\n  return (\n    <div className=\"px-3 lg:px-0 container mx-auto max-w-screen-lg flex flex-wrap sm:flex-nowrap\">\n      <div className=\"flex-shrink md:flex-shrink-0 md:pr-4 w-full sm:w-auto\">\n        <div className={`flex items-center mb-5 mt-${searchEngine ? 3 : 14}`}>\n          {!searchEngine ? null : (\n            <Fragment>\n              <button\n                type=\"button\"\n                aria-pressed=\"false\"\n                aria-labelledby=\"toggleLabel\"\n                className={`${\n                  algoliaStatus ? 'bg-blue-500' : 'bg-gray-200'\n                } relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500`}\n                onClick={activeAlgolia}\n              >\n                <span className=\"sr-only\">Enable algolia</span>\n                <span\n                  aria-hidden=\"true\"\n                  className={`${\n                    algoliaStatus ? 'translate-x-5' : 'translate-x-0'\n                  } inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200`}\n                ></span>\n              </button>\n              <span className=\"ml-3\" id=\"toggleLabel\">\n                <img src=\"/algolia.svg\" />\n              </span>\n            </Fragment>\n          )}\n        </div>\n        {taxonomy}\n      </div>\n      <div className=\"w-full mt-6\">\n        <ProductsList products={currentProducts} />\n      </div>\n    </div>\n  )\n}\n\nexport default Taxonomies\n"]},"metadata":{},"sourceType":"module"}