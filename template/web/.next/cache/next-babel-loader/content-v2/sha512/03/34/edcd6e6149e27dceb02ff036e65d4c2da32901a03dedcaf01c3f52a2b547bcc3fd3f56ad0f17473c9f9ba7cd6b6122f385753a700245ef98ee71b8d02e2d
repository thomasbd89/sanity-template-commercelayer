{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { createClient, createImageUrlBuilder, createPortableTextComponent, createPreviewSubscriptionHook } from \"next-sanity\";\nconst config = {\n  /**\n   * Find your project ID and dataset in `sanity.json` in your studio project.\n   * These are considered “public”, but you can use environment variables\n   * if you want differ between local dev and production.\n   *\n   * https://nextjs.org/docs/basic-features/environment-variables\n   **/\n  dataset: process.env.NEXT_PUBLIC_SANITY_DATASET,\n  projectId: process.env.NEXT_PUBLIC_SANITY_PROJECT_ID,\n  useCdn: false\n  /**\n   * Set useCdn to `false` if your application require the freshest possible\n   * data always (potentially slightly slower and a bit more expensive).\n   * Authenticated request (like preview) will always bypass the CDN\n   **/\n\n};\n\nif (!config.projectId) {\n  throw Error(\"The Project ID is not set. Check your environment variables.\");\n}\n\nif (!config.dataset) {\n  throw Error(\"The dataset name is not set. Check your environment variables.\");\n}\n/**\n * Set up a helper function for generating Image URLs with only the asset reference data in your documents.\n * Read more: https://www.sanity.io/docs/image-url\n **/\n\n\nexport const urlFor = source => createImageUrlBuilder(config).image(source); // Set up the live preview subsscription hook\n\nexport const usePreviewSubscription = createPreviewSubscriptionHook(config); // Set up Portable Text serialization\n\nexport const PortableText = createPortableTextComponent(_objectSpread(_objectSpread({}, config), {}, {\n  // Serializers passed to @sanity/block-content-to-react\n  // (https://github.com/sanity-io/block-content-to-react)\n  serializers: {}\n})); // Set up the client for fetching data in the getProps page functions\n\nexport const sanityClient = createClient(config); // Set up a preview client with serverless authentication for drafts\n\nexport const previewClient = createClient(_objectSpread(_objectSpread({}, config), {}, {\n  useCdn: false\n})); // Helper function for easily switching between normal client and preview client\n\nexport const getClient = usePreview => usePreview ? previewClient : sanityClient;","map":{"version":3,"sources":["/Users/bolajiayodeji/Tunnel/CL/sanity-commercelayer-starter/utils/sanity.js"],"names":["createClient","createImageUrlBuilder","createPortableTextComponent","createPreviewSubscriptionHook","config","dataset","process","env","NEXT_PUBLIC_SANITY_DATASET","projectId","NEXT_PUBLIC_SANITY_PROJECT_ID","useCdn","Error","urlFor","source","image","usePreviewSubscription","PortableText","serializers","sanityClient","previewClient","getClient","usePreview"],"mappings":";;;;;;AAAA,SACEA,YADF,EAEEC,qBAFF,EAGEC,2BAHF,EAIEC,6BAJF,QAKO,aALP;AAOA,MAAMC,MAAM,GAAG;AACb;AACF;AACA;AACA;AACA;AACA;AACA;AACEC,EAAAA,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC,0BARR;AASbC,EAAAA,SAAS,EAAEH,OAAO,CAACC,GAAR,CAAYG,6BATV;AAUbC,EAAAA,MAAM;AACN;AACF;AACA;AACA;AACA;;AAfe,CAAf;;AAkBA,IAAI,CAACP,MAAM,CAACK,SAAZ,EAAuB;AACrB,QAAMG,KAAK,CAAC,8DAAD,CAAX;AACD;;AACD,IAAI,CAACR,MAAM,CAACC,OAAZ,EAAqB;AACnB,QAAMO,KAAK,CAAC,gEAAD,CAAX;AACD;AAED;AACA;AACA;AACA;;;AACA,OAAO,MAAMC,MAAM,GAAIC,MAAD,IAAYb,qBAAqB,CAACG,MAAD,CAArB,CAA8BW,KAA9B,CAAoCD,MAApC,CAA3B,C,CAEP;;AACA,OAAO,MAAME,sBAAsB,GAAGb,6BAA6B,CAACC,MAAD,CAA5D,C,CAEP;;AACA,OAAO,MAAMa,YAAY,GAAGf,2BAA2B,iCAClDE,MADkD;AAErD;AACA;AACAc,EAAAA,WAAW,EAAE;AAJwC,GAAhD,C,CAOP;;AACA,OAAO,MAAMC,YAAY,GAAGnB,YAAY,CAACI,MAAD,CAAjC,C,CACP;;AAEA,OAAO,MAAMgB,aAAa,GAAGpB,YAAY,iCACpCI,MADoC;AAEvCO,EAAAA,MAAM,EAAE;AAF+B,GAAlC,C,CAKP;;AACA,OAAO,MAAMU,SAAS,GAAIC,UAAD,IACvBA,UAAU,GAAGF,aAAH,GAAmBD,YADxB","sourcesContent":["import {\n  createClient,\n  createImageUrlBuilder,\n  createPortableTextComponent,\n  createPreviewSubscriptionHook,\n} from \"next-sanity\";\n\nconst config = {\n  /**\n   * Find your project ID and dataset in `sanity.json` in your studio project.\n   * These are considered “public”, but you can use environment variables\n   * if you want differ between local dev and production.\n   *\n   * https://nextjs.org/docs/basic-features/environment-variables\n   **/\n  dataset: process.env.NEXT_PUBLIC_SANITY_DATASET,\n  projectId: process.env.NEXT_PUBLIC_SANITY_PROJECT_ID,\n  useCdn: process.env.NODE_ENV === \"production\",\n  /**\n   * Set useCdn to `false` if your application require the freshest possible\n   * data always (potentially slightly slower and a bit more expensive).\n   * Authenticated request (like preview) will always bypass the CDN\n   **/\n};\n\nif (!config.projectId) {\n  throw Error(\"The Project ID is not set. Check your environment variables.\");\n}\nif (!config.dataset) {\n  throw Error(\"The dataset name is not set. Check your environment variables.\");\n}\n\n/**\n * Set up a helper function for generating Image URLs with only the asset reference data in your documents.\n * Read more: https://www.sanity.io/docs/image-url\n **/\nexport const urlFor = (source) => createImageUrlBuilder(config).image(source);\n\n// Set up the live preview subsscription hook\nexport const usePreviewSubscription = createPreviewSubscriptionHook(config);\n\n// Set up Portable Text serialization\nexport const PortableText = createPortableTextComponent({\n  ...config,\n  // Serializers passed to @sanity/block-content-to-react\n  // (https://github.com/sanity-io/block-content-to-react)\n  serializers: {},\n});\n\n// Set up the client for fetching data in the getProps page functions\nexport const sanityClient = createClient(config);\n// Set up a preview client with serverless authentication for drafts\n\nexport const previewClient = createClient({\n  ...config,\n  useCdn: false,\n});\n\n// Helper function for easily switching between normal client and preview client\nexport const getClient = (usePreview) =>\n  usePreview ? previewClient : sanityClient;\n"]},"metadata":{},"sourceType":"module"}